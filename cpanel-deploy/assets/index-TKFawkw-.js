const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Index-utNK3TKV.js","assets/ui-Dp5FSweD.js","assets/vendor-BxUyh3kO.js","assets/useSEO-BS9P2Blj.js","assets/ModernNavBar-BOY83D5u.js","assets/modern-button-BE3QF45D.js","assets/index.esm-sGtxkk38.js","assets/chevron-down-BmJri7la.js","assets/modern-card-C1bAFAFd.js","assets/zap-BJVoPDnf.js","assets/check-CN5YsLJW.js","assets/users-CnZ_W3gx.js","assets/award-BiSD7Ji4.js","assets/trending-up-SrGv4dyx.js","assets/ModernFooter-qNeh3omI.js","assets/arrow-right-C9h3HjBm.js","assets/settings-DCQ_y2WL.js","assets/globe-BvCVJEHx.js","assets/star-DLpFYzEO.js","assets/shield-BXL97tAd.js","assets/quote-Dbv8Y-U5.js","assets/chevron-right-Dz-cPr_Z.js","assets/mail-Bgpf8yH5.js","assets/phone-Ckqg7ZO-.js","assets/map-pin-DABNPVnh.js","assets/NotFound-CSznFjwU.js","assets/arrow-left-CzZ0HUtP.js","assets/BlogPage-DkGxKT2o.js","assets/modern-input-B8OVjSDh.js","assets/search-zOlNrjW1.js","assets/calendar-BPJqU0yh.js","assets/clock-BDIvaxEK.js","assets/eye-Bb-s49Qb.js","assets/BlogPostPage-By2swSQk.js","assets/textarea-bTopS5-c.js","assets/button-BRAHZdsD.js","assets/user-BHSBiFuG.js","assets/send-CmlQAIuU.js","assets/ServicesPage-Dr42Z__W.js","assets/eventBus-BTe-eFoI.js","assets/wrench-DwfE6FxR.js","assets/ServiceDetailPage-BcPRpEIH.js","assets/ProductsPage-DpCtl2qx.js","assets/ImageUpload-XpaXJL3P.js","assets/select-DkMj81_h.js","assets/upload-DGJDyHk2.js","assets/switch-Dh_TDOAn.js","assets/package-BCgi08tZ.js","assets/AboutPage-BiPj6YEd.js","assets/companyData-Bk7qPgb9.js","assets/ContactPage-C7E-f7ua.js","assets/file-text-BOEP7DMY.js","assets/AdminPage-DOQfvAwe.js","assets/LoginPage-BHSgJMgX.js","assets/DatabaseDemo-D9GMXmNq.js","assets/tabs-BOXn3L1w.js","assets/ConnectionTestPage-C0Ssc7H6.js","assets/AnimationDemo-B22_Rtcb.js","assets/enhanced-typography-ChpYtYGi.js","assets/TypographyDemoPage-Db86yHuC.js","assets/CityServicesPage-B9XHuPOx.js"])))=>i.map(i=>d[i]);
var _a=Object.defineProperty;var On=t=>{throw TypeError(t)};var xa=(t,e,r)=>e in t?_a(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var _t=(t,e,r)=>xa(t,typeof e!="symbol"?e+"":e,r),_s=(t,e,r)=>e.has(t)||On("Cannot "+r);var k=(t,e,r)=>(_s(t,e,"read from private field"),r?r.call(t):e.get(t)),H=(t,e,r)=>e.has(t)?On("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),L=(t,e,r,s)=>(_s(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),he=(t,e,r)=>(_s(t,e,"access private method"),r);var Ur=(t,e,r,s)=>({set _(n){L(t,e,n,r)},get _(){return k(t,e,s)}});import{j as S,n as Mo,o as Uo,A as Fo,C as qo,T as Bo,p as zo,q as Sa,P as os,h as Ms,c as Wo,d as is,f as ka,g as Ea,D as Ta,r as Aa,s as Pa,u as Ca,e as Oa,b as Ut}from"./ui-Dp5FSweD.js";import{h as Ra,g as Ho,a as w,R as A,c as ja,b as Ia,i as $a,f as Vo,N as La,j as Da,k as Na}from"./vendor-BxUyh3kO.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();var Fr={},Rn;function Ma(){if(Rn)return Fr;Rn=1;var t=Ra();return Fr.createRoot=t.createRoot,Fr.hydrateRoot=t.hydrateRoot,Fr}var Ua=Ma();const Fa=Ho(Ua),qa="modulepreload",Ba=function(t){return"/"+t},jn={},q=function(e,r,s){let n=Promise.resolve();if(r&&r.length>0){let i=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=i(r.map(c=>{if(c=Ba(c),c in jn)return;jn[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":qa,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((d,p)=>{f.addEventListener("load",d),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return n.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},za=1,Wa=1e6;let xs=0;function Ha(){return xs=(xs+1)%Number.MAX_SAFE_INTEGER,xs.toString()}const Ss=new Map,In=t=>{if(Ss.has(t))return;const e=setTimeout(()=>{Ss.delete(t),_r({type:"REMOVE_TOAST",toastId:t})},Wa);Ss.set(t,e)},Va=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,za)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?In(r):t.toasts.forEach(s=>{In(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Jr=[];let Qr={toasts:[]};function _r(t){Qr=Va(Qr,t),Jr.forEach(e=>{e(Qr)})}function Ga({...t}){const e=Ha(),r=n=>_r({type:"UPDATE_TOAST",toast:{...n,id:e}}),s=()=>_r({type:"DISMISS_TOAST",toastId:e});return _r({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:n=>{n||s()}}}),{id:e,dismiss:s,update:r}}function Ka(){const[t,e]=w.useState(Qr);return w.useEffect(()=>(Jr.push(e),()=>{const r=Jr.indexOf(e);r>-1&&Jr.splice(r,1)}),[t]),{...t,toast:Ga,dismiss:r=>_r({type:"DISMISS_TOAST",toastId:r})}}function Go(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(r=Go(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function Ko(){for(var t,e,r=0,s="",n=arguments.length;r<n;r++)(t=arguments[r])&&(e=Go(t))&&(s&&(s+=" "),s+=e);return s}const $n=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ln=Ko,Ja=(t,e)=>r=>{var s;if((e==null?void 0:e.variants)==null)return Ln(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:n,defaultVariants:o}=e,i=Object.keys(n).map(c=>{const u=r==null?void 0:r[c],h=o==null?void 0:o[c];if(u===null)return null;const f=$n(u)||$n(h);return n[c][f]}),a=r&&Object.entries(r).reduce((c,u)=>{let[h,f]=u;return f===void 0||(c[h]=f),c},{}),l=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((c,u)=>{let{class:h,className:f,...d}=u;return Object.entries(d).every(p=>{let[g,m]=p;return Array.isArray(m)?m.includes({...o,...a}[g]):{...o,...a}[g]===m})?[...c,h,f]:c},[]);return Ln(t,i,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jo=(...t)=>t.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ya={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:n="",children:o,iconNode:i,...a},l)=>w.createElement("svg",{ref:l,...Ya,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:Jo("lucide",n),...a},[...i.map(([c,u])=>w.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=(t,e)=>{const r=w.forwardRef(({className:s,...n},o)=>w.createElement(Xa,{ref:o,iconNode:e,className:Jo(`lucide-${Qa(t)}`,s),...n}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Ir("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Ir("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Ir("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=Ir("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=Ir("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),an="-",sl=t=>{const e=ol(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:i=>{const a=i.split(an);return a[0]===""&&a.length!==1&&a.shift(),Yo(a,e)||nl(i)},getConflictingClassGroupIds:(i,a)=>{const l=r[i]||[];return a&&s[i]?[...l,...s[i]]:l}}},Yo=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),n=s?Yo(t.slice(1),s):void 0;if(n)return n;if(e.validators.length===0)return;const o=t.join(an);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},Dn=/^\[(.+)\]$/,nl=t=>{if(Dn.test(t)){const e=Dn.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},ol=t=>{const{theme:e,prefix:r}=t,s={nextPart:new Map,validators:[]};return al(Object.entries(t.classGroups),r).forEach(([o,i])=>{Us(i,s,o,e)}),s},Us=(t,e,r,s)=>{t.forEach(n=>{if(typeof n=="string"){const o=n===""?e:Nn(e,n);o.classGroupId=r;return}if(typeof n=="function"){if(il(n)){Us(n(s),e,r,s);return}e.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([o,i])=>{Us(i,Nn(e,o),r,s)})})},Nn=(t,e)=>{let r=t;return e.split(an).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},il=t=>t.isThemeGetter,al=(t,e)=>e?t.map(([r,s])=>{const n=s.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[r,n]}):t,ll=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const n=(o,i)=>{r.set(o,i),e++,e>t&&(e=0,s=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=s.get(o))!==void 0)return n(o,i),i},set(o,i){r.has(o)?r.set(o,i):n(o,i)}}},Xo="!",cl=t=>{const{separator:e,experimentalParseClassName:r}=t,s=e.length===1,n=e[0],o=e.length,i=a=>{const l=[];let c=0,u=0,h;for(let m=0;m<a.length;m++){let b=a[m];if(c===0){if(b===n&&(s||a.slice(m,m+o)===e)){l.push(a.slice(u,m)),u=m+o;continue}if(b==="/"){h=m;continue}}b==="["?c++:b==="]"&&c--}const f=l.length===0?a:a.substring(u),d=f.startsWith(Xo),p=d?f.substring(1):f,g=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:i}):i},ul=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(s=>{s[0]==="["?(e.push(...r.sort(),s),r=[]):r.push(s)}),e.push(...r.sort()),e},dl=t=>({cache:ll(t.cacheSize),parseClassName:cl(t),...sl(t)}),hl=/\s+/,fl=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:n}=e,o=[],i=t.trim().split(hl);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:d}=r(c);let p=!!d,g=s(p?f.substring(0,d):f);if(!g){if(!p){a=c+(a.length>0?" "+a:a);continue}if(g=s(f),!g){a=c+(a.length>0?" "+a:a);continue}p=!1}const m=ul(u).join(":"),b=h?m+Xo:m,_=b+g;if(o.includes(_))continue;o.push(_);const y=n(g,p);for(let v=0;v<y.length;++v){const E=y[v];o.push(b+E)}a=c+(a.length>0?" "+a:a)}return a};function gl(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Zo(e))&&(s&&(s+=" "),s+=r);return s}const Zo=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=Zo(t[s]))&&(r&&(r+=" "),r+=e);return r};function pl(t,...e){let r,s,n,o=i;function i(l){const c=e.reduce((u,h)=>h(u),t());return r=dl(c),s=r.cache.get,n=r.cache.set,o=a,a(l)}function a(l){const c=s(l);if(c)return c;const u=fl(l,r);return n(l,u),u}return function(){return o(gl.apply(null,arguments))}}const te=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},ei=/^\[(?:([a-z-]+):)?(.+)\]$/i,ml=/^\d+\/\d+$/,yl=new Set(["px","full","screen"]),vl=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wl=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bl=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_l=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xl=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Be=t=>Xt(t)||yl.has(t)||ml.test(t),st=t=>hr(t,"length",Ol),Xt=t=>!!t&&!Number.isNaN(Number(t)),ks=t=>hr(t,"number",Xt),vr=t=>!!t&&Number.isInteger(Number(t)),Sl=t=>t.endsWith("%")&&Xt(t.slice(0,-1)),U=t=>ei.test(t),nt=t=>vl.test(t),kl=new Set(["length","size","percentage"]),El=t=>hr(t,kl,ti),Tl=t=>hr(t,"position",ti),Al=new Set(["image","url"]),Pl=t=>hr(t,Al,jl),Cl=t=>hr(t,"",Rl),wr=()=>!0,hr=(t,e,r)=>{const s=ei.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):r(s[2]):!1},Ol=t=>wl.test(t)&&!bl.test(t),ti=()=>!1,Rl=t=>_l.test(t),jl=t=>xl.test(t),Il=()=>{const t=te("colors"),e=te("spacing"),r=te("blur"),s=te("brightness"),n=te("borderColor"),o=te("borderRadius"),i=te("borderSpacing"),a=te("borderWidth"),l=te("contrast"),c=te("grayscale"),u=te("hueRotate"),h=te("invert"),f=te("gap"),d=te("gradientColorStops"),p=te("gradientColorStopPositions"),g=te("inset"),m=te("margin"),b=te("opacity"),_=te("padding"),y=te("saturate"),v=te("scale"),E=te("sepia"),T=te("skew"),P=te("space"),j=te("translate"),C=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",U,e],O=()=>[U,e],V=()=>["",Be,st],B=()=>["auto",Xt,U],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",U],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[Xt,U];return{cacheSize:500,separator:":",theme:{colors:[wr],spacing:[Be,st],blur:["none","",nt,U],brightness:ae(),borderColor:[t],borderRadius:["none","","full",nt,U],borderSpacing:O(),borderWidth:V(),contrast:ae(),grayscale:R(),hueRotate:ae(),invert:R(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[Sl,st],inset:G(),margin:G(),opacity:ae(),padding:O(),saturate:ae(),scale:ae(),sepia:R(),skew:ae(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",U]}],container:["container"],columns:[{columns:[nt]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),U]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vr,U]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",U]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",vr,U]}],"grid-cols":[{"grid-cols":[wr]}],"col-start-end":[{col:["auto",{span:["full",vr,U]},U]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[wr]}],"row-start-end":[{row:["auto",{span:[vr,U]},U]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",U]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",U]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",U,e]}],"min-w":[{"min-w":[U,e,"min","max","fit"]}],"max-w":[{"max-w":[U,e,"none","full","min","max","fit","prose",{screen:[nt]},nt]}],h:[{h:[U,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[U,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[U,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[U,e,"auto","min","max","fit"]}],"font-size":[{text:["base",nt,st]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ks]}],"font-family":[{font:[wr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",U]}],"line-clamp":[{"line-clamp":["none",Xt,ks]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Be,U]}],"list-image":[{"list-image":["none",U]}],"list-style-type":[{list:["none","disc","decimal",U]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Be,st]}],"underline-offset":[{"underline-offset":["auto",Be,U]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",U]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",U]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),Tl]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",El]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Pl]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[d]}],"gradient-via":[{via:[d]}],"gradient-to":[{to:[d]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:z()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Be,U]}],"outline-w":[{outline:[Be,st]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Be,st]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",nt,Cl]}],"shadow-color":[{shadow:[wr]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",nt,U]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",U]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",U]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",U]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[vr,U]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",U]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",U]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",U]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Be,st,ks]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$l=pl(Il);function Je(...t){return $l(Ko(t))}const Ll=Sa,ri=w.forwardRef(({className:t,...e},r)=>S.jsx(Mo,{ref:r,className:Je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ri.displayName=Mo.displayName;const Dl=Ja("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),si=w.forwardRef(({className:t,variant:e,...r},s)=>S.jsx(Uo,{ref:s,className:Je(Dl({variant:e}),t),...r}));si.displayName=Uo.displayName;const Nl=w.forwardRef(({className:t,...e},r)=>S.jsx(Fo,{ref:r,className:Je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Nl.displayName=Fo.displayName;const ni=w.forwardRef(({className:t,...e},r)=>S.jsx(qo,{ref:r,className:Je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:S.jsx(Qo,{className:"h-4 w-4"})}));ni.displayName=qo.displayName;const oi=w.forwardRef(({className:t,...e},r)=>S.jsx(Bo,{ref:r,className:Je("text-sm font-semibold",t),...e}));oi.displayName=Bo.displayName;const ii=w.forwardRef(({className:t,...e},r)=>S.jsx(zo,{ref:r,className:Je("text-sm opacity-90",t),...e}));ii.displayName=zo.displayName;function Ml(){const{toasts:t}=Ka();return S.jsxs(Ll,{children:[t.map(function({id:e,title:r,description:s,action:n,...o}){return S.jsxs(si,{...o,children:[S.jsxs("div",{className:"grid gap-1",children:[r&&S.jsx(oi,{children:r}),s&&S.jsx(ii,{children:s})]}),n,S.jsx(ni,{})]},e)}),S.jsx(ri,{})]})}var Mn=["light","dark"],Ul="(prefers-color-scheme: dark)",Fl=w.createContext(void 0),ql={setTheme:t=>{},themes:[]},Bl=()=>{var t;return(t=w.useContext(Fl))!=null?t:ql};w.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:s,enableColorScheme:n,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let c=o==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=n?Mn.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(p,g=!1,m=!0)=>{let b=i?i[p]:p,_=g?p+"|| ''":`'${b}'`,y="";return n&&m&&!g&&Mn.includes(p)&&(y+=`d.style.colorScheme = '${p}';`),r==="class"?g||b?y+=`c.add(${_})`:y+="null":b&&(y+=`d[s](n,${_})`),y},d=t?`!function(){${u}${f(t)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${Ul}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}${c?"":"else{"+f(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}else{${f(o,!1,!1)};}${h}}catch(t){}}();`;return w.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:d}})});var zl=t=>{switch(t){case"success":return Vl;case"info":return Kl;case"warning":return Gl;case"error":return Jl;default:return null}},Wl=Array(12).fill(0),Hl=({visible:t,className:e})=>A.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},A.createElement("div",{className:"sonner-spinner"},Wl.map((r,s)=>A.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Vl=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Gl=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Kl=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Jl=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ql=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},A.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),A.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Yl=()=>{let[t,e]=A.useState(document.hidden);return A.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Fs=1,Xl=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...s}=t,n=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Fs++,o=this.toasts.find(a=>a.id===n),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),o?this.toasts=this.toasts.map(a=>a.id===n?(this.publish({...a,...t,id:n,title:r}),{...a,...t,id:n,dismissible:i,title:r}):a):this.addToast({title:r,...s,dismissible:i,id:n}),n},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=t instanceof Promise?t:t(),n=r!==void 0,o,i=s.then(async l=>{if(o=["resolve",l],A.isValidElement(l))n=!1,this.create({id:r,type:"default",message:l});else if(ec(l)&&!l.ok){n=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:r,type:"error",message:c,description:u})}else if(e.success!==void 0){n=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"success",message:c,description:u})}}).catch(async l=>{if(o=["reject",l],e.error!==void 0){n=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"error",message:c,description:u})}}).finally(()=>{var l;n&&(this.dismiss(r),r=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>i.then(()=>o[0]==="reject"?c(o[1]):l(o[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Fs++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ve=new Xl,Zl=(t,e)=>{let r=(e==null?void 0:e.id)||Fs++;return ve.addToast({title:t,...e,id:r}),r},ec=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",tc=Zl,rc=()=>ve.toasts,sc=()=>ve.getActiveToasts(),Og=Object.assign(tc,{success:ve.success,info:ve.info,warning:ve.warning,error:ve.error,custom:ve.custom,message:ve.message,promise:ve.promise,dismiss:ve.dismiss,loading:ve.loading},{getHistory:rc,getToasts:sc});function nc(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}nc(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qr(t){return t.label!==void 0}var oc=3,ic="32px",ac="16px",Un=4e3,lc=356,cc=14,uc=20,dc=200;function Te(...t){return t.filter(Boolean).join(" ")}function hc(t){let[e,r]=t.split("-"),s=[];return e&&s.push(e),r&&s.push(r),s}var fc=t=>{var e,r,s,n,o,i,a,l,c,u,h;let{invert:f,toast:d,unstyled:p,interacting:g,setHeights:m,visibleToasts:b,heights:_,index:y,toasts:v,expanded:E,removeToast:T,defaultRichColors:P,closeButton:j,style:C,cancelButtonStyle:N,actionButtonStyle:G,className:O="",descriptionClassName:V="",duration:B,position:ne,gap:z,loadingIcon:W,expandByDefault:I,classNames:R,icons:Q,closeButtonAriaLabel:ae="Close toast",pauseWhenPageIsHidden:K}=t,[Y,Z]=A.useState(null),[de,Qe]=A.useState(null),[ee,It]=A.useState(!1),[Ye,vt]=A.useState(!1),[Xe,$t]=A.useState(!1),[Ze,Dr]=A.useState(!1),[ys,Nr]=A.useState(!1),[vs,mr]=A.useState(0),[Lt,kn]=A.useState(0),yr=A.useRef(d.duration||B||Un),En=A.useRef(null),wt=A.useRef(null),ha=y===0,fa=y+1<=b,_e=d.type,Dt=d.dismissible!==!1,ga=d.className||"",pa=d.descriptionClassName||"",Mr=A.useMemo(()=>_.findIndex($=>$.toastId===d.id)||0,[_,d.id]),ma=A.useMemo(()=>{var $;return($=d.closeButton)!=null?$:j},[d.closeButton,j]),Tn=A.useMemo(()=>d.duration||B||Un,[d.duration,B]),ws=A.useRef(0),Nt=A.useRef(0),An=A.useRef(0),Mt=A.useRef(null),[ya,va]=ne.split("-"),Pn=A.useMemo(()=>_.reduce(($,J,re)=>re>=Mr?$:$+J.height,0),[_,Mr]),Cn=Yl(),wa=d.invert||f,bs=_e==="loading";Nt.current=A.useMemo(()=>Mr*z+Pn,[Mr,Pn]),A.useEffect(()=>{yr.current=Tn},[Tn]),A.useEffect(()=>{It(!0)},[]),A.useEffect(()=>{let $=wt.current;if($){let J=$.getBoundingClientRect().height;return kn(J),m(re=>[{toastId:d.id,height:J,position:d.position},...re]),()=>m(re=>re.filter(Se=>Se.toastId!==d.id))}},[m,d.id]),A.useLayoutEffect(()=>{if(!ee)return;let $=wt.current,J=$.style.height;$.style.height="auto";let re=$.getBoundingClientRect().height;$.style.height=J,kn(re),m(Se=>Se.find(ke=>ke.toastId===d.id)?Se.map(ke=>ke.toastId===d.id?{...ke,height:re}:ke):[{toastId:d.id,height:re,position:d.position},...Se])},[ee,d.title,d.description,m,d.id]);let et=A.useCallback(()=>{vt(!0),mr(Nt.current),m($=>$.filter(J=>J.toastId!==d.id)),setTimeout(()=>{T(d)},dc)},[d,T,m,Nt]);A.useEffect(()=>{if(d.promise&&_e==="loading"||d.duration===1/0||d.type==="loading")return;let $;return E||g||K&&Cn?(()=>{if(An.current<ws.current){let J=new Date().getTime()-ws.current;yr.current=yr.current-J}An.current=new Date().getTime()})():yr.current!==1/0&&(ws.current=new Date().getTime(),$=setTimeout(()=>{var J;(J=d.onAutoClose)==null||J.call(d,d),et()},yr.current)),()=>clearTimeout($)},[E,g,d,_e,K,Cn,et]),A.useEffect(()=>{d.delete&&et()},[et,d.delete]);function ba(){var $,J,re;return Q!=null&&Q.loading?A.createElement("div",{className:Te(R==null?void 0:R.loader,($=d==null?void 0:d.classNames)==null?void 0:$.loader,"sonner-loader"),"data-visible":_e==="loading"},Q.loading):W?A.createElement("div",{className:Te(R==null?void 0:R.loader,(J=d==null?void 0:d.classNames)==null?void 0:J.loader,"sonner-loader"),"data-visible":_e==="loading"},W):A.createElement(Hl,{className:Te(R==null?void 0:R.loader,(re=d==null?void 0:d.classNames)==null?void 0:re.loader),visible:_e==="loading"})}return A.createElement("li",{tabIndex:0,ref:wt,className:Te(O,ga,R==null?void 0:R.toast,(e=d==null?void 0:d.classNames)==null?void 0:e.toast,R==null?void 0:R.default,R==null?void 0:R[_e],(r=d==null?void 0:d.classNames)==null?void 0:r[_e]),"data-sonner-toast":"","data-rich-colors":(s=d.richColors)!=null?s:P,"data-styled":!(d.jsx||d.unstyled||p),"data-mounted":ee,"data-promise":!!d.promise,"data-swiped":ys,"data-removed":Ye,"data-visible":fa,"data-y-position":ya,"data-x-position":va,"data-index":y,"data-front":ha,"data-swiping":Xe,"data-dismissible":Dt,"data-type":_e,"data-invert":wa,"data-swipe-out":Ze,"data-swipe-direction":de,"data-expanded":!!(E||I&&ee),style:{"--index":y,"--toasts-before":y,"--z-index":v.length-y,"--offset":`${Ye?vs:Nt.current}px`,"--initial-height":I?"auto":`${Lt}px`,...C,...d.style},onDragEnd:()=>{$t(!1),Z(null),Mt.current=null},onPointerDown:$=>{bs||!Dt||(En.current=new Date,mr(Nt.current),$.target.setPointerCapture($.pointerId),$.target.tagName!=="BUTTON"&&($t(!0),Mt.current={x:$.clientX,y:$.clientY}))},onPointerUp:()=>{var $,J,re,Se;if(Ze||!Dt)return;Mt.current=null;let ke=Number((($=wt.current)==null?void 0:$.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),tt=Number(((J=wt.current)==null?void 0:J.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),bt=new Date().getTime()-((re=En.current)==null?void 0:re.getTime()),Ee=Y==="x"?ke:tt,rt=Math.abs(Ee)/bt;if(Math.abs(Ee)>=uc||rt>.11){mr(Nt.current),(Se=d.onDismiss)==null||Se.call(d,d),Qe(Y==="x"?ke>0?"right":"left":tt>0?"down":"up"),et(),Dr(!0),Nr(!1);return}$t(!1),Z(null)},onPointerMove:$=>{var J,re,Se,ke;if(!Mt.current||!Dt||((J=window.getSelection())==null?void 0:J.toString().length)>0)return;let tt=$.clientY-Mt.current.y,bt=$.clientX-Mt.current.x,Ee=(re=t.swipeDirections)!=null?re:hc(ne);!Y&&(Math.abs(bt)>1||Math.abs(tt)>1)&&Z(Math.abs(bt)>Math.abs(tt)?"x":"y");let rt={x:0,y:0};Y==="y"?(Ee.includes("top")||Ee.includes("bottom"))&&(Ee.includes("top")&&tt<0||Ee.includes("bottom")&&tt>0)&&(rt.y=tt):Y==="x"&&(Ee.includes("left")||Ee.includes("right"))&&(Ee.includes("left")&&bt<0||Ee.includes("right")&&bt>0)&&(rt.x=bt),(Math.abs(rt.x)>0||Math.abs(rt.y)>0)&&Nr(!0),(Se=wt.current)==null||Se.style.setProperty("--swipe-amount-x",`${rt.x}px`),(ke=wt.current)==null||ke.style.setProperty("--swipe-amount-y",`${rt.y}px`)}},ma&&!d.jsx?A.createElement("button",{"aria-label":ae,"data-disabled":bs,"data-close-button":!0,onClick:bs||!Dt?()=>{}:()=>{var $;et(),($=d.onDismiss)==null||$.call(d,d)},className:Te(R==null?void 0:R.closeButton,(n=d==null?void 0:d.classNames)==null?void 0:n.closeButton)},(o=Q==null?void 0:Q.close)!=null?o:Ql):null,d.jsx||w.isValidElement(d.title)?d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title:A.createElement(A.Fragment,null,_e||d.icon||d.promise?A.createElement("div",{"data-icon":"",className:Te(R==null?void 0:R.icon,(i=d==null?void 0:d.classNames)==null?void 0:i.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||ba():null,d.type!=="loading"?d.icon||(Q==null?void 0:Q[_e])||zl(_e):null):null,A.createElement("div",{"data-content":"",className:Te(R==null?void 0:R.content,(a=d==null?void 0:d.classNames)==null?void 0:a.content)},A.createElement("div",{"data-title":"",className:Te(R==null?void 0:R.title,(l=d==null?void 0:d.classNames)==null?void 0:l.title)},typeof d.title=="function"?d.title():d.title),d.description?A.createElement("div",{"data-description":"",className:Te(V,pa,R==null?void 0:R.description,(c=d==null?void 0:d.classNames)==null?void 0:c.description)},typeof d.description=="function"?d.description():d.description):null),w.isValidElement(d.cancel)?d.cancel:d.cancel&&qr(d.cancel)?A.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||N,onClick:$=>{var J,re;qr(d.cancel)&&Dt&&((re=(J=d.cancel).onClick)==null||re.call(J,$),et())},className:Te(R==null?void 0:R.cancelButton,(u=d==null?void 0:d.classNames)==null?void 0:u.cancelButton)},d.cancel.label):null,w.isValidElement(d.action)?d.action:d.action&&qr(d.action)?A.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||G,onClick:$=>{var J,re;qr(d.action)&&((re=(J=d.action).onClick)==null||re.call(J,$),!$.defaultPrevented&&et())},className:Te(R==null?void 0:R.actionButton,(h=d==null?void 0:d.classNames)==null?void 0:h.actionButton)},d.action.label):null))};function Fn(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function gc(t,e){let r={};return[t,e].forEach((s,n)=>{let o=n===1,i=o?"--mobile-offset":"--offset",a=o?ac:ic;function l(c){["top","right","bottom","left"].forEach(u=>{r[`${i}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof s=="number"||typeof s=="string"?l(s):typeof s=="object"?["top","right","bottom","left"].forEach(c=>{s[c]===void 0?r[`${i}-${c}`]=a:r[`${i}-${c}`]=typeof s[c]=="number"?`${s[c]}px`:s[c]}):l(a)}),r}var pc=w.forwardRef(function(t,e){let{invert:r,position:s="bottom-right",hotkey:n=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:h,duration:f,style:d,visibleToasts:p=oc,toastOptions:g,dir:m=Fn(),gap:b=cc,loadingIcon:_,icons:y,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:E}=t,[T,P]=A.useState([]),j=A.useMemo(()=>Array.from(new Set([s].concat(T.filter(K=>K.position).map(K=>K.position)))),[T,s]),[C,N]=A.useState([]),[G,O]=A.useState(!1),[V,B]=A.useState(!1),[ne,z]=A.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=A.useRef(null),I=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=A.useRef(null),Q=A.useRef(!1),ae=A.useCallback(K=>{P(Y=>{var Z;return(Z=Y.find(de=>de.id===K.id))!=null&&Z.delete||ve.dismiss(K.id),Y.filter(({id:de})=>de!==K.id)})},[]);return A.useEffect(()=>ve.subscribe(K=>{if(K.dismiss){P(Y=>Y.map(Z=>Z.id===K.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{ja.flushSync(()=>{P(Y=>{let Z=Y.findIndex(de=>de.id===K.id);return Z!==-1?[...Y.slice(0,Z),{...Y[Z],...K},...Y.slice(Z+1)]:[K,...Y]})})})}),[]),A.useEffect(()=>{if(u!=="system"){z(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window>"u")return;let K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:Y})=>{z(Y?"dark":"light")})}catch{K.addListener(({matches:Z})=>{try{z(Z?"dark":"light")}catch(de){console.error(de)}})}},[u]),A.useEffect(()=>{T.length<=1&&O(!1)},[T]),A.useEffect(()=>{let K=Y=>{var Z,de;n.every(Qe=>Y[Qe]||Y.code===Qe)&&(O(!0),(Z=W.current)==null||Z.focus()),Y.code==="Escape"&&(document.activeElement===W.current||(de=W.current)!=null&&de.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[n]),A.useEffect(()=>{if(W.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,Q.current=!1)}},[W.current]),A.createElement("section",{ref:e,"aria-label":`${v} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((K,Y)=>{var Z;let[de,Qe]=K.split("-");return T.length?A.createElement("ol",{key:K,dir:m==="auto"?Fn():m,tabIndex:-1,ref:W,className:a,"data-sonner-toaster":!0,"data-theme":ne,"data-y-position":de,"data-lifted":G&&T.length>1&&!o,"data-x-position":Qe,style:{"--front-toast-height":`${((Z=C[0])==null?void 0:Z.height)||0}px`,"--width":`${lc}px`,"--gap":`${b}px`,...d,...gc(l,c)},onBlur:ee=>{Q.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(Q.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,R.current=ee.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{V||O(!1)},onDragEnd:()=>O(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},T.filter(ee=>!ee.position&&Y===0||ee.position===K).map((ee,It)=>{var Ye,vt;return A.createElement(fc,{key:ee.id,icons:y,index:It,toast:ee,defaultRichColors:h,duration:(Ye=g==null?void 0:g.duration)!=null?Ye:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:p,closeButton:(vt=g==null?void 0:g.closeButton)!=null?vt:i,interacting:V,position:K,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ae,toasts:T.filter(Xe=>Xe.position==ee.position),heights:C.filter(Xe=>Xe.position==ee.position),setHeights:N,expandByDefault:o,gap:b,loadingIcon:_,expanded:G,pauseWhenPageIsHidden:E,swipeDirections:t.swipeDirections})})):null}))});const mc=({...t})=>{const{theme:e="system"}=Bl();return S.jsx(pc,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},qn=t=>{let e;const r=new Set,s=(c,u)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const f=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(d=>d(e,f))}},n=()=>e,a={setState:s,getState:n,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c))},l=e=t(s,n,a);return a},yc=(t=>t?qn(t):qn),vc=t=>t;function wc(t,e=vc){const r=A.useSyncExternalStore(t.subscribe,A.useCallback(()=>e(t.getState()),[t,e]),A.useCallback(()=>e(t.getInitialState()),[t,e]));return A.useDebugValue(r),r}const bc=t=>{const e=yc(t),r=s=>wc(e,s);return Object.assign(r,e),r},_c=(t=>bc);function ai(t,e){let r;try{r=t()}catch{return}return{getItem:n=>{var o;const i=l=>l===null?null:JSON.parse(l,void 0),a=(o=r.getItem(n))!=null?o:null;return a instanceof Promise?a.then(i):i(a)},setItem:(n,o)=>r.setItem(n,JSON.stringify(o,void 0)),removeItem:n=>r.removeItem(n)}}const qs=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(s){return qs(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return qs(s)(r)}}}},xc=(t,e)=>(r,s,n)=>{let o={storage:ai(()=>localStorage),partialize:g=>g,version:0,merge:(g,m)=>({...m,...g}),...e},i=!1;const a=new Set,l=new Set;let c=o.storage;if(!c)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...g)},s,n);const u=()=>{const g=o.partialize({...s()});return c.setItem(o.name,{state:g,version:o.version})},h=n.setState;n.setState=(g,m)=>(h(g,m),u());const f=t((...g)=>(r(...g),u()),s,n);n.getInitialState=()=>f;let d;const p=()=>{var g,m;if(!c)return;i=!1,a.forEach(_=>{var y;return _((y=s())!=null?y:f)});const b=((m=o.onRehydrateStorage)==null?void 0:m.call(o,(g=s())!=null?g:f))||void 0;return qs(c.getItem.bind(c))(o.name).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==o.version){if(o.migrate){const y=o.migrate(_.state,_.version);return y instanceof Promise?y.then(v=>[!0,v]):[!0,y]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,_.state];return[!1,void 0]}).then(_=>{var y;const[v,E]=_;if(d=o.merge(E,(y=s())!=null?y:f),r(d,!0),v)return u()}).then(()=>{b==null||b(d,void 0),d=s(),i=!0,l.forEach(_=>_(d))}).catch(_=>{b==null||b(void 0,_)})};return n.persist={setOptions:g=>{o={...o,...g},g.storage&&(c=g.storage)},clearStorage:()=>{c==null||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>i,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},o.skipHydration||p(),d||f},Sc=xc,li=_c()(Sc((t,e)=>({isLoading:!1,isMobileMenuOpen:!1,theme:"light",user:null,isAuthenticated:!1,selectedProducts:[],quoteItems:[],notifications:[],contactFormData:{},setLoading:r=>t({isLoading:r}),setMobileMenuOpen:r=>t({isMobileMenuOpen:r}),setTheme:r=>t({theme:r}),setUser:r=>t({user:r,isAuthenticated:!!r}),logout:()=>t({user:null,isAuthenticated:!1,selectedProducts:[],quoteItems:[],contactFormData:{}}),addSelectedProduct:r=>t(s=>({selectedProducts:s.selectedProducts.includes(r)?s.selectedProducts:[...s.selectedProducts,r]})),removeSelectedProduct:r=>t(s=>({selectedProducts:s.selectedProducts.filter(n=>n!==r)})),clearSelectedProducts:()=>t({selectedProducts:[]}),addToQuote:r=>t(s=>{const n=s.quoteItems.findIndex(o=>o.productId===r.productId);if(n>=0){const o=[...s.quoteItems];return o[n]={...o[n],quantity:o[n].quantity+r.quantity},{quoteItems:o}}return{quoteItems:[...s.quoteItems,r]}}),removeFromQuote:r=>t(s=>({quoteItems:s.quoteItems.filter(n=>n.productId!==r)})),updateQuoteItem:(r,s)=>t(n=>({quoteItems:n.quoteItems.map(o=>o.productId===r?{...o,...s}:o)})),clearQuote:()=>t({quoteItems:[]}),addNotification:r=>t(s=>({notifications:[{...r,id:Date.now().toString(),timestamp:Date.now(),read:!1},...s.notifications]})),markNotificationRead:r=>t(s=>({notifications:s.notifications.map(n=>n.id===r?{...n,read:!0}:n)})),removeNotification:r=>t(s=>({notifications:s.notifications.filter(n=>n.id!==r)})),clearNotifications:()=>t({notifications:[]}),updateContactForm:r=>t(s=>({contactFormData:{...s.contactFormData,...r}})),clearContactForm:()=>t({contactFormData:{}})}),{name:"nolads-app-storage",storage:ai(()=>localStorage),partialize:t=>({theme:t.theme,selectedProducts:t.selectedProducts,quoteItems:t.quoteItems,contactFormData:t.contactFormData,user:t.user,isAuthenticated:t.isAuthenticated})})),kc=()=>{const{notifications:t,removeNotification:e}=li(),r=n=>{switch(n){case"success":return S.jsx(el,{className:"w-5 h-5 text-green-600"});case"error":return S.jsx(Za,{className:"w-5 h-5 text-red-600"});case"warning":return S.jsx(rl,{className:"w-5 h-5 text-yellow-600"});case"info":default:return S.jsx(tl,{className:"w-5 h-5 text-blue-600"})}},s=n=>{switch(n){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":default:return"bg-blue-50 border-blue-200 text-blue-800"}};return S.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm",children:t.slice(0,5).map(n=>S.jsx(Ec,{notification:n,onRemove:e,getIcon:r,getStyles:s},n.id))})},Ec=({notification:t,onRemove:e,getIcon:r,getStyles:s})=>(w.useEffect(()=>{const n=setTimeout(()=>{e(t.id)},5e3);return()=>clearTimeout(n)},[t.id,e]),S.jsx("div",{className:Je("p-4 rounded-lg border shadow-lg animate-slide-in-right",s(t.type)),role:"alert","aria-live":"polite",children:S.jsxs("div",{className:"flex items-start gap-3",children:[r(t.type),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("h4",{className:"font-medium text-sm",children:t.title}),S.jsx("p",{className:"text-sm opacity-90 mt-1",children:t.message})]}),S.jsx("button",{onClick:()=>e(t.id),className:"flex-shrink-0 p-1 hover:bg-black/10 rounded transition-colors","aria-label":"Close notification",children:S.jsx(Qo,{className:"w-4 h-4"})})]})})),Rg=()=>{const t=li(e=>e.addNotification);return{success:(e,r)=>t({type:"success",title:e,message:r}),error:(e,r)=>t({type:"error",title:e,message:r}),warning:(e,r)=>t({type:"warning",title:e,message:r}),info:(e,r)=>t({type:"info",title:e,message:r})}},Tc=["top","right","bottom","left"],pt=Math.min,we=Math.max,Xr=Math.round,Br=Math.floor,Ue=t=>({x:t,y:t}),Ac={left:"right",right:"left",bottom:"top",top:"bottom"},Pc={start:"end",end:"start"};function Bs(t,e,r){return we(t,pt(e,r))}function Ge(t,e){return typeof t=="function"?t(e):t}function Ke(t){return t.split("-")[0]}function fr(t){return t.split("-")[1]}function ln(t){return t==="x"?"y":"x"}function cn(t){return t==="y"?"height":"width"}const Cc=new Set(["top","bottom"]);function Me(t){return Cc.has(Ke(t))?"y":"x"}function un(t){return ln(Me(t))}function Oc(t,e,r){r===void 0&&(r=!1);const s=fr(t),n=un(t),o=cn(n);let i=n==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=Zr(i)),[i,Zr(i)]}function Rc(t){const e=Zr(t);return[zs(t),e,zs(e)]}function zs(t){return t.replace(/start|end/g,e=>Pc[e])}const Bn=["left","right"],zn=["right","left"],jc=["top","bottom"],Ic=["bottom","top"];function $c(t,e,r){switch(t){case"top":case"bottom":return r?e?zn:Bn:e?Bn:zn;case"left":case"right":return e?jc:Ic;default:return[]}}function Lc(t,e,r,s){const n=fr(t);let o=$c(Ke(t),r==="start",s);return n&&(o=o.map(i=>i+"-"+n),e&&(o=o.concat(o.map(zs)))),o}function Zr(t){return t.replace(/left|right|bottom|top/g,e=>Ac[e])}function Dc(t){return{top:0,right:0,bottom:0,left:0,...t}}function ci(t){return typeof t!="number"?Dc(t):{top:t,right:t,bottom:t,left:t}}function es(t){const{x:e,y:r,width:s,height:n}=t;return{width:s,height:n,top:r,left:e,right:e+s,bottom:r+n,x:e,y:r}}function Wn(t,e,r){let{reference:s,floating:n}=t;const o=Me(e),i=un(e),a=cn(i),l=Ke(e),c=o==="y",u=s.x+s.width/2-n.width/2,h=s.y+s.height/2-n.height/2,f=s[a]/2-n[a]/2;let d;switch(l){case"top":d={x:u,y:s.y-n.height};break;case"bottom":d={x:u,y:s.y+s.height};break;case"right":d={x:s.x+s.width,y:h};break;case"left":d={x:s.x-n.width,y:h};break;default:d={x:s.x,y:s.y}}switch(fr(e)){case"start":d[i]-=f*(r&&c?-1:1);break;case"end":d[i]+=f*(r&&c?-1:1);break}return d}const Nc=async(t,e,r)=>{const{placement:s="bottom",strategy:n="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e));let c=await i.getElementRects({reference:t,floating:e,strategy:n}),{x:u,y:h}=Wn(c,s,l),f=s,d={},p=0;for(let g=0;g<a.length;g++){const{name:m,fn:b}=a[g],{x:_,y,data:v,reset:E}=await b({x:u,y:h,initialPlacement:s,placement:f,strategy:n,middlewareData:d,rects:c,platform:i,elements:{reference:t,floating:e}});u=_??u,h=y??h,d={...d,[m]:{...d[m],...v}},E&&p<=50&&(p++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(c=E.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:n}):E.rects),{x:u,y:h}=Wn(c,f,l)),g=-1)}return{x:u,y:h,placement:f,strategy:n,middlewareData:d}};async function Er(t,e){var r;e===void 0&&(e={});const{x:s,y:n,platform:o,rects:i,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:d=0}=Ge(e,t),p=ci(d),m=a[f?h==="floating"?"reference":"floating":h],b=es(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(m)))==null||r?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),_=h==="floating"?{x:s,y:n,width:i.floating.width,height:i.floating.height}:i.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),v=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},E=es(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:y,strategy:l}):_);return{top:(b.top-E.top+p.top)/v.y,bottom:(E.bottom-b.bottom+p.bottom)/v.y,left:(b.left-E.left+p.left)/v.x,right:(E.right-b.right+p.right)/v.x}}const Mc=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:s,placement:n,rects:o,platform:i,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Ge(t,e)||{};if(c==null)return{};const h=ci(u),f={x:r,y:s},d=un(n),p=cn(d),g=await i.getDimensions(c),m=d==="y",b=m?"top":"left",_=m?"bottom":"right",y=m?"clientHeight":"clientWidth",v=o.reference[p]+o.reference[d]-f[d]-o.floating[p],E=f[d]-o.reference[d],T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let P=T?T[y]:0;(!P||!await(i.isElement==null?void 0:i.isElement(T)))&&(P=a.floating[y]||o.floating[p]);const j=v/2-E/2,C=P/2-g[p]/2-1,N=pt(h[b],C),G=pt(h[_],C),O=N,V=P-g[p]-G,B=P/2-g[p]/2+j,ne=Bs(O,B,V),z=!l.arrow&&fr(n)!=null&&B!==ne&&o.reference[p]/2-(B<O?N:G)-g[p]/2<0,W=z?B<O?B-O:B-V:0;return{[d]:f[d]+W,data:{[d]:ne,centerOffset:B-ne-W,...z&&{alignmentOffset:W}},reset:z}}}),Uc=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,s;const{placement:n,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=Ge(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const b=Ke(n),_=Me(a),y=Ke(a)===a,v=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=f||(y||!g?[Zr(a)]:Rc(a)),T=p!=="none";!f&&T&&E.push(...Lc(a,g,p,v));const P=[a,...E],j=await Er(e,m),C=[];let N=((s=o.flip)==null?void 0:s.overflows)||[];if(u&&C.push(j[b]),h){const B=Oc(n,i,v);C.push(j[B[0]],j[B[1]])}if(N=[...N,{placement:n,overflows:C}],!C.every(B=>B<=0)){var G,O;const B=(((G=o.flip)==null?void 0:G.index)||0)+1,ne=P[B];if(ne&&(!(h==="alignment"?_!==Me(ne):!1)||N.every(I=>Me(I.placement)===_?I.overflows[0]>0:!0)))return{data:{index:B,overflows:N},reset:{placement:ne}};let z=(O=N.filter(W=>W.overflows[0]<=0).sort((W,I)=>W.overflows[1]-I.overflows[1])[0])==null?void 0:O.placement;if(!z)switch(d){case"bestFit":{var V;const W=(V=N.filter(I=>{if(T){const R=Me(I.placement);return R===_||R==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(R=>R>0).reduce((R,Q)=>R+Q,0)]).sort((I,R)=>I[1]-R[1])[0])==null?void 0:V[0];W&&(z=W);break}case"initialPlacement":z=a;break}if(n!==z)return{reset:{placement:z}}}return{}}}};function Hn(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Vn(t){return Tc.some(e=>t[e]>=0)}const Fc=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:s="referenceHidden",...n}=Ge(t,e);switch(s){case"referenceHidden":{const o=await Er(e,{...n,elementContext:"reference"}),i=Hn(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Vn(i)}}}case"escaped":{const o=await Er(e,{...n,altBoundary:!0}),i=Hn(o,r.floating);return{data:{escapedOffsets:i,escaped:Vn(i)}}}default:return{}}}}},ui=new Set(["left","top"]);async function qc(t,e){const{placement:r,platform:s,elements:n}=t,o=await(s.isRTL==null?void 0:s.isRTL(n.floating)),i=Ke(r),a=fr(r),l=Me(r)==="y",c=ui.has(i)?-1:1,u=o&&l?-1:1,h=Ge(e,t);let{mainAxis:f,crossAxis:d,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof p=="number"&&(d=a==="end"?p*-1:p),l?{x:d*u,y:f*c}:{x:f*c,y:d*u}}const Bc=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,s;const{x:n,y:o,placement:i,middlewareData:a}=e,l=await qc(e,t);return i===((r=a.offset)==null?void 0:r.placement)&&(s=a.arrow)!=null&&s.alignmentOffset?{}:{x:n+l.x,y:o+l.y,data:{...l,placement:i}}}}},zc=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:s,placement:n}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:m=>{let{x:b,y:_}=m;return{x:b,y:_}}},...l}=Ge(t,e),c={x:r,y:s},u=await Er(e,l),h=Me(Ke(n)),f=ln(h);let d=c[f],p=c[h];if(o){const m=f==="y"?"top":"left",b=f==="y"?"bottom":"right",_=d+u[m],y=d-u[b];d=Bs(_,d,y)}if(i){const m=h==="y"?"top":"left",b=h==="y"?"bottom":"right",_=p+u[m],y=p-u[b];p=Bs(_,p,y)}const g=a.fn({...e,[f]:d,[h]:p});return{...g,data:{x:g.x-r,y:g.y-s,enabled:{[f]:o,[h]:i}}}}}},Wc=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:s,placement:n,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ge(t,e),u={x:r,y:s},h=Me(n),f=ln(h);let d=u[f],p=u[h];const g=Ge(a,e),m=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const y=f==="y"?"height":"width",v=o.reference[f]-o.floating[y]+m.mainAxis,E=o.reference[f]+o.reference[y]-m.mainAxis;d<v?d=v:d>E&&(d=E)}if(c){var b,_;const y=f==="y"?"width":"height",v=ui.has(Ke(n)),E=o.reference[h]-o.floating[y]+(v&&((b=i.offset)==null?void 0:b[h])||0)+(v?0:m.crossAxis),T=o.reference[h]+o.reference[y]+(v?0:((_=i.offset)==null?void 0:_[h])||0)-(v?m.crossAxis:0);p<E?p=E:p>T&&(p=T)}return{[f]:d,[h]:p}}}},Hc=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,s;const{placement:n,rects:o,platform:i,elements:a}=e,{apply:l=()=>{},...c}=Ge(t,e),u=await Er(e,c),h=Ke(n),f=fr(n),d=Me(n)==="y",{width:p,height:g}=o.floating;let m,b;h==="top"||h==="bottom"?(m=h,b=f===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(b=h,m=f==="end"?"top":"bottom");const _=g-u.top-u.bottom,y=p-u.left-u.right,v=pt(g-u[m],_),E=pt(p-u[b],y),T=!e.middlewareData.shift;let P=v,j=E;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(j=y),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(P=_),T&&!f){const N=we(u.left,0),G=we(u.right,0),O=we(u.top,0),V=we(u.bottom,0);d?j=p-2*(N!==0||G!==0?N+G:we(u.left,u.right)):P=g-2*(O!==0||V!==0?O+V:we(u.top,u.bottom))}await l({...e,availableWidth:j,availableHeight:P});const C=await i.getDimensions(a.floating);return p!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function as(){return typeof window<"u"}function gr(t){return di(t)?(t.nodeName||"").toLowerCase():"#document"}function be(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qe(t){var e;return(e=(di(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function di(t){return as()?t instanceof Node||t instanceof be(t).Node:!1}function je(t){return as()?t instanceof Element||t instanceof be(t).Element:!1}function Fe(t){return as()?t instanceof HTMLElement||t instanceof be(t).HTMLElement:!1}function Gn(t){return!as()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof be(t).ShadowRoot}const Vc=new Set(["inline","contents"]);function $r(t){const{overflow:e,overflowX:r,overflowY:s,display:n}=Ie(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+r)&&!Vc.has(n)}const Gc=new Set(["table","td","th"]);function Kc(t){return Gc.has(gr(t))}const Jc=[":popover-open",":modal"];function ls(t){return Jc.some(e=>{try{return t.matches(e)}catch{return!1}})}const Qc=["transform","translate","scale","rotate","perspective"],Yc=["transform","translate","scale","rotate","perspective","filter"],Xc=["paint","layout","strict","content"];function dn(t){const e=hn(),r=je(t)?Ie(t):t;return Qc.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Yc.some(s=>(r.willChange||"").includes(s))||Xc.some(s=>(r.contain||"").includes(s))}function Zc(t){let e=mt(t);for(;Fe(e)&&!cr(e);){if(dn(e))return e;if(ls(e))return null;e=mt(e)}return null}function hn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const eu=new Set(["html","body","#document"]);function cr(t){return eu.has(gr(t))}function Ie(t){return be(t).getComputedStyle(t)}function cs(t){return je(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function mt(t){if(gr(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Gn(t)&&t.host||qe(t);return Gn(e)?e.host:e}function hi(t){const e=mt(t);return cr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fe(e)&&$r(e)?e:hi(e)}function Tr(t,e,r){var s;e===void 0&&(e=[]),r===void 0&&(r=!0);const n=hi(t),o=n===((s=t.ownerDocument)==null?void 0:s.body),i=be(n);if(o){const a=Ws(i);return e.concat(i,i.visualViewport||[],$r(n)?n:[],a&&r?Tr(a):[])}return e.concat(n,Tr(n,[],r))}function Ws(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fi(t){const e=Ie(t);let r=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const n=Fe(t),o=n?t.offsetWidth:r,i=n?t.offsetHeight:s,a=Xr(r)!==o||Xr(s)!==i;return a&&(r=o,s=i),{width:r,height:s,$:a}}function fn(t){return je(t)?t:t.contextElement}function Zt(t){const e=fn(t);if(!Fe(e))return Ue(1);const r=e.getBoundingClientRect(),{width:s,height:n,$:o}=fi(e);let i=(o?Xr(r.width):r.width)/s,a=(o?Xr(r.height):r.height)/n;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const tu=Ue(0);function gi(t){const e=be(t);return!hn()||!e.visualViewport?tu:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ru(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==be(t)?!1:e}function Rt(t,e,r,s){e===void 0&&(e=!1),r===void 0&&(r=!1);const n=t.getBoundingClientRect(),o=fn(t);let i=Ue(1);e&&(s?je(s)&&(i=Zt(s)):i=Zt(t));const a=ru(o,r,s)?gi(o):Ue(0);let l=(n.left+a.x)/i.x,c=(n.top+a.y)/i.y,u=n.width/i.x,h=n.height/i.y;if(o){const f=be(o),d=s&&je(s)?be(s):s;let p=f,g=Ws(p);for(;g&&s&&d!==p;){const m=Zt(g),b=g.getBoundingClientRect(),_=Ie(g),y=b.left+(g.clientLeft+parseFloat(_.paddingLeft))*m.x,v=b.top+(g.clientTop+parseFloat(_.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,h*=m.y,l+=y,c+=v,p=be(g),g=Ws(p)}}return es({width:u,height:h,x:l,y:c})}function us(t,e){const r=cs(t).scrollLeft;return e?e.left+r:Rt(qe(t)).left+r}function pi(t,e){const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-us(t,r),n=r.top+e.scrollTop;return{x:s,y:n}}function su(t){let{elements:e,rect:r,offsetParent:s,strategy:n}=t;const o=n==="fixed",i=qe(s),a=e?ls(e.floating):!1;if(s===i||a&&o)return r;let l={scrollLeft:0,scrollTop:0},c=Ue(1);const u=Ue(0),h=Fe(s);if((h||!h&&!o)&&((gr(s)!=="body"||$r(i))&&(l=cs(s)),Fe(s))){const d=Rt(s);c=Zt(s),u.x=d.x+s.clientLeft,u.y=d.y+s.clientTop}const f=i&&!h&&!o?pi(i,l):Ue(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:r.y*c.y-l.scrollTop*c.y+u.y+f.y}}function nu(t){return Array.from(t.getClientRects())}function ou(t){const e=qe(t),r=cs(t),s=t.ownerDocument.body,n=we(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),o=we(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let i=-r.scrollLeft+us(t);const a=-r.scrollTop;return Ie(s).direction==="rtl"&&(i+=we(e.clientWidth,s.clientWidth)-n),{width:n,height:o,x:i,y:a}}const Kn=25;function iu(t,e){const r=be(t),s=qe(t),n=r.visualViewport;let o=s.clientWidth,i=s.clientHeight,a=0,l=0;if(n){o=n.width,i=n.height;const u=hn();(!u||u&&e==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}const c=us(s);if(c<=0){const u=s.ownerDocument,h=u.body,f=getComputedStyle(h),d=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,p=Math.abs(s.clientWidth-h.clientWidth-d);p<=Kn&&(o-=p)}else c<=Kn&&(o+=c);return{width:o,height:i,x:a,y:l}}const au=new Set(["absolute","fixed"]);function lu(t,e){const r=Rt(t,!0,e==="fixed"),s=r.top+t.clientTop,n=r.left+t.clientLeft,o=Fe(t)?Zt(t):Ue(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,l=n*o.x,c=s*o.y;return{width:i,height:a,x:l,y:c}}function Jn(t,e,r){let s;if(e==="viewport")s=iu(t,r);else if(e==="document")s=ou(qe(t));else if(je(e))s=lu(e,r);else{const n=gi(t);s={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return es(s)}function mi(t,e){const r=mt(t);return r===e||!je(r)||cr(r)?!1:Ie(r).position==="fixed"||mi(r,e)}function cu(t,e){const r=e.get(t);if(r)return r;let s=Tr(t,[],!1).filter(a=>je(a)&&gr(a)!=="body"),n=null;const o=Ie(t).position==="fixed";let i=o?mt(t):t;for(;je(i)&&!cr(i);){const a=Ie(i),l=dn(i);!l&&a.position==="fixed"&&(n=null),(o?!l&&!n:!l&&a.position==="static"&&!!n&&au.has(n.position)||$r(i)&&!l&&mi(t,i))?s=s.filter(u=>u!==i):n=a,i=mt(i)}return e.set(t,s),s}function uu(t){let{element:e,boundary:r,rootBoundary:s,strategy:n}=t;const i=[...r==="clippingAncestors"?ls(e)?[]:cu(e,this._c):[].concat(r),s],a=i[0],l=i.reduce((c,u)=>{const h=Jn(e,u,n);return c.top=we(h.top,c.top),c.right=pt(h.right,c.right),c.bottom=pt(h.bottom,c.bottom),c.left=we(h.left,c.left),c},Jn(e,a,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function du(t){const{width:e,height:r}=fi(t);return{width:e,height:r}}function hu(t,e,r){const s=Fe(e),n=qe(e),o=r==="fixed",i=Rt(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Ue(0);function c(){l.x=us(n)}if(s||!s&&!o)if((gr(e)!=="body"||$r(n))&&(a=cs(e)),s){const d=Rt(e,!0,o,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else n&&c();o&&!s&&n&&c();const u=n&&!s&&!o?pi(n,a):Ue(0),h=i.left+a.scrollLeft-l.x-u.x,f=i.top+a.scrollTop-l.y-u.y;return{x:h,y:f,width:i.width,height:i.height}}function Es(t){return Ie(t).position==="static"}function Qn(t,e){if(!Fe(t)||Ie(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return qe(t)===r&&(r=r.ownerDocument.body),r}function yi(t,e){const r=be(t);if(ls(t))return r;if(!Fe(t)){let n=mt(t);for(;n&&!cr(n);){if(je(n)&&!Es(n))return n;n=mt(n)}return r}let s=Qn(t,e);for(;s&&Kc(s)&&Es(s);)s=Qn(s,e);return s&&cr(s)&&Es(s)&&!dn(s)?r:s||Zc(t)||r}const fu=async function(t){const e=this.getOffsetParent||yi,r=this.getDimensions,s=await r(t.floating);return{reference:hu(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function gu(t){return Ie(t).direction==="rtl"}const pu={convertOffsetParentRelativeRectToViewportRelativeRect:su,getDocumentElement:qe,getClippingRect:uu,getOffsetParent:yi,getElementRects:fu,getClientRects:nu,getDimensions:du,getScale:Zt,isElement:je,isRTL:gu};function vi(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function mu(t,e){let r=null,s;const n=qe(t);function o(){var a;clearTimeout(s),(a=r)==null||a.disconnect(),r=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:h,width:f,height:d}=c;if(a||e(),!f||!d)return;const p=Br(h),g=Br(n.clientWidth-(u+f)),m=Br(n.clientHeight-(h+d)),b=Br(u),y={rootMargin:-p+"px "+-g+"px "+-m+"px "+-b+"px",threshold:we(0,pt(1,l))||1};let v=!0;function E(T){const P=T[0].intersectionRatio;if(P!==l){if(!v)return i();P?i(!1,P):s=setTimeout(()=>{i(!1,1e-7)},1e3)}P===1&&!vi(c,t.getBoundingClientRect())&&i(),v=!1}try{r=new IntersectionObserver(E,{...y,root:n.ownerDocument})}catch{r=new IntersectionObserver(E,y)}r.observe(t)}return i(!0),o}function yu(t,e,r,s){s===void 0&&(s={});const{ancestorScroll:n=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,c=fn(t),u=n||o?[...c?Tr(c):[],...Tr(e)]:[];u.forEach(b=>{n&&b.addEventListener("scroll",r,{passive:!0}),o&&b.addEventListener("resize",r)});const h=c&&a?mu(c,r):null;let f=-1,d=null;i&&(d=new ResizeObserver(b=>{let[_]=b;_&&_.target===c&&d&&(d.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=d)==null||y.observe(e)})),r()}),c&&!l&&d.observe(c),d.observe(e));let p,g=l?Rt(t):null;l&&m();function m(){const b=Rt(t);g&&!vi(g,b)&&r(),g=b,p=requestAnimationFrame(m)}return r(),()=>{var b;u.forEach(_=>{n&&_.removeEventListener("scroll",r),o&&_.removeEventListener("resize",r)}),h==null||h(),(b=d)==null||b.disconnect(),d=null,l&&cancelAnimationFrame(p)}}const vu=Bc,wu=zc,bu=Uc,_u=Hc,xu=Fc,Yn=Mc,Su=Wc,ku=(t,e,r)=>{const s=new Map,n={platform:pu,...r},o={...n.platform,_c:s};return Nc(t,e,{...n,platform:o})};var Eu=typeof document<"u",Tu=function(){},Yr=Eu?w.useLayoutEffect:Tu;function ts(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,s,n;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(s=r;s--!==0;)if(!ts(t[s],e[s]))return!1;return!0}if(n=Object.keys(t),r=n.length,r!==Object.keys(e).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(e,n[s]))return!1;for(s=r;s--!==0;){const o=n[s];if(!(o==="_owner"&&t.$$typeof)&&!ts(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function wi(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Xn(t,e){const r=wi(t);return Math.round(e*r)/r}function Ts(t){const e=w.useRef(t);return Yr(()=>{e.current=t}),e}function Au(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:s=[],platform:n,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=w.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,d]=w.useState(s);ts(f,s)||d(s);const[p,g]=w.useState(null),[m,b]=w.useState(null),_=w.useCallback(I=>{I!==T.current&&(T.current=I,g(I))},[]),y=w.useCallback(I=>{I!==P.current&&(P.current=I,b(I))},[]),v=o||p,E=i||m,T=w.useRef(null),P=w.useRef(null),j=w.useRef(u),C=l!=null,N=Ts(l),G=Ts(n),O=Ts(c),V=w.useCallback(()=>{if(!T.current||!P.current)return;const I={placement:e,strategy:r,middleware:f};G.current&&(I.platform=G.current),ku(T.current,P.current,I).then(R=>{const Q={...R,isPositioned:O.current!==!1};B.current&&!ts(j.current,Q)&&(j.current=Q,Ia.flushSync(()=>{h(Q)}))})},[f,e,r,G,O]);Yr(()=>{c===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,h(I=>({...I,isPositioned:!1})))},[c]);const B=w.useRef(!1);Yr(()=>(B.current=!0,()=>{B.current=!1}),[]),Yr(()=>{if(v&&(T.current=v),E&&(P.current=E),v&&E){if(N.current)return N.current(v,E,V);V()}},[v,E,V,N,C]);const ne=w.useMemo(()=>({reference:T,floating:P,setReference:_,setFloating:y}),[_,y]),z=w.useMemo(()=>({reference:v,floating:E}),[v,E]),W=w.useMemo(()=>{const I={position:r,left:0,top:0};if(!z.floating)return I;const R=Xn(z.floating,u.x),Q=Xn(z.floating,u.y);return a?{...I,transform:"translate("+R+"px, "+Q+"px)",...wi(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:Q}},[r,a,z.floating,u.x,u.y]);return w.useMemo(()=>({...u,update:V,refs:ne,elements:z,floatingStyles:W}),[u,V,ne,z,W])}const Pu=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:s,padding:n}=typeof t=="function"?t(r):t;return s&&e(s)?s.current!=null?Yn({element:s.current,padding:n}).fn(r):{}:s?Yn({element:s,padding:n}).fn(r):{}}}},Cu=(t,e)=>({...vu(t),options:[t,e]}),Ou=(t,e)=>({...wu(t),options:[t,e]}),Ru=(t,e)=>({...Su(t),options:[t,e]}),ju=(t,e)=>({...bu(t),options:[t,e]}),Iu=(t,e)=>({..._u(t),options:[t,e]}),$u=(t,e)=>({...xu(t),options:[t,e]}),Lu=(t,e)=>({...Pu(t),options:[t,e]});var Du="Arrow",bi=w.forwardRef((t,e)=>{const{children:r,width:s=10,height:n=5,...o}=t;return S.jsx(os.svg,{...o,ref:e,width:s,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});bi.displayName=Du;var Nu=bi;function Mu(t){const[e,r]=w.useState(void 0);return Ms(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const o=n[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=t.offsetWidth,a=t.offsetHeight;r({width:i,height:a})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else r(void 0)},[t]),e}var gn="Popper",[_i,xi]=Wo(gn),[Uu,Si]=_i(gn),ki=t=>{const{__scopePopper:e,children:r}=t,[s,n]=w.useState(null);return S.jsx(Uu,{scope:e,anchor:s,onAnchorChange:n,children:r})};ki.displayName=gn;var Ei="PopperAnchor",Ti=w.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:s,...n}=t,o=Si(Ei,r),i=w.useRef(null),a=is(e,i),l=w.useRef(null);return w.useEffect(()=>{const c=l.current;l.current=(s==null?void 0:s.current)||i.current,c!==l.current&&o.onAnchorChange(l.current)}),s?null:S.jsx(os.div,{...n,ref:a})});Ti.displayName=Ei;var pn="PopperContent",[Fu,qu]=_i(pn),Ai=w.forwardRef((t,e)=>{var ee,It,Ye,vt,Xe,$t;const{__scopePopper:r,side:s="bottom",sideOffset:n=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:d="optimized",onPlaced:p,...g}=t,m=Si(pn,r),[b,_]=w.useState(null),y=is(e,Ze=>_(Ze)),[v,E]=w.useState(null),T=Mu(v),P=(T==null?void 0:T.width)??0,j=(T==null?void 0:T.height)??0,C=s+(o!=="center"?"-"+o:""),N=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},G=Array.isArray(c)?c:[c],O=G.length>0,V={padding:N,boundary:G.filter(zu),altBoundary:O},{refs:B,floatingStyles:ne,placement:z,isPositioned:W,middlewareData:I}=Au({strategy:"fixed",placement:C,whileElementsMounted:(...Ze)=>yu(...Ze,{animationFrame:d==="always"}),elements:{reference:m.anchor},middleware:[Cu({mainAxis:n+j,alignmentAxis:i}),l&&Ou({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Ru():void 0,...V}),l&&ju({...V}),Iu({...V,apply:({elements:Ze,rects:Dr,availableWidth:ys,availableHeight:Nr})=>{const{width:vs,height:mr}=Dr.reference,Lt=Ze.floating.style;Lt.setProperty("--radix-popper-available-width",`${ys}px`),Lt.setProperty("--radix-popper-available-height",`${Nr}px`),Lt.setProperty("--radix-popper-anchor-width",`${vs}px`),Lt.setProperty("--radix-popper-anchor-height",`${mr}px`)}}),v&&Lu({element:v,padding:a}),Wu({arrowWidth:P,arrowHeight:j}),f&&$u({strategy:"referenceHidden",...V})]}),[R,Q]=Oi(z),ae=ka(p);Ms(()=>{W&&(ae==null||ae())},[W,ae]);const K=(ee=I.arrow)==null?void 0:ee.x,Y=(It=I.arrow)==null?void 0:It.y,Z=((Ye=I.arrow)==null?void 0:Ye.centerOffset)!==0,[de,Qe]=w.useState();return Ms(()=>{b&&Qe(window.getComputedStyle(b).zIndex)},[b]),S.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:W?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(vt=I.transformOrigin)==null?void 0:vt.x,(Xe=I.transformOrigin)==null?void 0:Xe.y].join(" "),...(($t=I.hide)==null?void 0:$t.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:S.jsx(Fu,{scope:r,placedSide:R,onArrowChange:E,arrowX:K,arrowY:Y,shouldHideArrow:Z,children:S.jsx(os.div,{"data-side":R,"data-align":Q,...g,ref:y,style:{...g.style,animation:W?void 0:"none"}})})})});Ai.displayName=pn;var Pi="PopperArrow",Bu={top:"bottom",right:"left",bottom:"top",left:"right"},Ci=w.forwardRef(function(e,r){const{__scopePopper:s,...n}=e,o=qu(Pi,s),i=Bu[o.placedSide];return S.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:S.jsx(Nu,{...n,ref:r,style:{...n.style,display:"block"}})})});Ci.displayName=Pi;function zu(t){return t!==null}var Wu=t=>({name:"transformOrigin",options:t,fn(e){var m,b,_;const{placement:r,rects:s,middlewareData:n}=e,i=((m=n.arrow)==null?void 0:m.centerOffset)!==0,a=i?0:t.arrowWidth,l=i?0:t.arrowHeight,[c,u]=Oi(r),h={start:"0%",center:"50%",end:"100%"}[u],f=(((b=n.arrow)==null?void 0:b.x)??0)+a/2,d=(((_=n.arrow)==null?void 0:_.y)??0)+l/2;let p="",g="";return c==="bottom"?(p=i?h:`${f}px`,g=`${-l}px`):c==="top"?(p=i?h:`${f}px`,g=`${s.floating.height+l}px`):c==="right"?(p=`${-l}px`,g=i?h:`${d}px`):c==="left"&&(p=`${s.floating.width+l}px`,g=i?h:`${d}px`),{data:{x:p,y:g}}}});function Oi(t){const[e,r="center"]=t.split("-");return[e,r]}var Hu=ki,Vu=Ti,Gu=Ai,Ku=Ci,[ds,jg]=Wo("Tooltip",[xi]),hs=xi(),Ri="TooltipProvider",Ju=700,Hs="tooltip.open",[Qu,mn]=ds(Ri),ji=t=>{const{__scopeTooltip:e,delayDuration:r=Ju,skipDelayDuration:s=300,disableHoverableContent:n=!1,children:o}=t,i=w.useRef(!0),a=w.useRef(!1),l=w.useRef(0);return w.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),S.jsx(Qu,{scope:e,isOpenDelayedRef:i,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,s)},[s]),isPointerInTransitRef:a,onPointerInTransitChange:w.useCallback(c=>{a.current=c},[]),disableHoverableContent:n,children:o})};ji.displayName=Ri;var Ar="Tooltip",[Yu,fs]=ds(Ar),Ii=t=>{const{__scopeTooltip:e,children:r,open:s,defaultOpen:n,onOpenChange:o,disableHoverableContent:i,delayDuration:a}=t,l=mn(Ar,t.__scopeTooltip),c=hs(e),[u,h]=w.useState(null),f=Ca(),d=w.useRef(0),p=i??l.disableHoverableContent,g=a??l.delayDuration,m=w.useRef(!1),[b,_]=Oa({prop:s,defaultProp:n??!1,onChange:P=>{P?(l.onOpen(),document.dispatchEvent(new CustomEvent(Hs))):l.onClose(),o==null||o(P)},caller:Ar}),y=w.useMemo(()=>b?m.current?"delayed-open":"instant-open":"closed",[b]),v=w.useCallback(()=>{window.clearTimeout(d.current),d.current=0,m.current=!1,_(!0)},[_]),E=w.useCallback(()=>{window.clearTimeout(d.current),d.current=0,_(!1)},[_]),T=w.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>{m.current=!0,_(!0),d.current=0},g)},[g,_]);return w.useEffect(()=>()=>{d.current&&(window.clearTimeout(d.current),d.current=0)},[]),S.jsx(Hu,{...c,children:S.jsx(Yu,{scope:e,contentId:f,open:b,stateAttribute:y,trigger:u,onTriggerChange:h,onTriggerEnter:w.useCallback(()=>{l.isOpenDelayedRef.current?T():v()},[l.isOpenDelayedRef,T,v]),onTriggerLeave:w.useCallback(()=>{p?E():(window.clearTimeout(d.current),d.current=0)},[E,p]),onOpen:v,onClose:E,disableHoverableContent:p,children:r})})};Ii.displayName=Ar;var Vs="TooltipTrigger",$i=w.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,n=fs(Vs,r),o=mn(Vs,r),i=hs(r),a=w.useRef(null),l=is(e,a,n.onTriggerChange),c=w.useRef(!1),u=w.useRef(!1),h=w.useCallback(()=>c.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),S.jsx(Vu,{asChild:!0,...i,children:S.jsx(os.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...s,ref:l,onPointerMove:Ut(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ut(t.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:Ut(t.onPointerDown,()=>{n.open&&n.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ut(t.onFocus,()=>{c.current||n.onOpen()}),onBlur:Ut(t.onBlur,n.onClose),onClick:Ut(t.onClick,n.onClose)})})});$i.displayName=Vs;var Xu="TooltipPortal",[Ig,Zu]=ds(Xu,{forceMount:void 0}),ur="TooltipContent",Li=w.forwardRef((t,e)=>{const r=Zu(ur,t.__scopeTooltip),{forceMount:s=r.forceMount,side:n="top",...o}=t,i=fs(ur,t.__scopeTooltip);return S.jsx(Ea,{present:s||i.open,children:i.disableHoverableContent?S.jsx(Di,{side:n,...o,ref:e}):S.jsx(ed,{side:n,...o,ref:e})})}),ed=w.forwardRef((t,e)=>{const r=fs(ur,t.__scopeTooltip),s=mn(ur,t.__scopeTooltip),n=w.useRef(null),o=is(e,n),[i,a]=w.useState(null),{trigger:l,onClose:c}=r,u=n.current,{onPointerInTransitChange:h}=s,f=w.useCallback(()=>{a(null),h(!1)},[h]),d=w.useCallback((p,g)=>{const m=p.currentTarget,b={x:p.clientX,y:p.clientY},_=od(b,m.getBoundingClientRect()),y=id(b,_),v=ad(g.getBoundingClientRect()),E=cd([...y,...v]);a(E),h(!0)},[h]);return w.useEffect(()=>()=>f(),[f]),w.useEffect(()=>{if(l&&u){const p=m=>d(m,u),g=m=>d(m,l);return l.addEventListener("pointerleave",p),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",g)}}},[l,u,d,f]),w.useEffect(()=>{if(i){const p=g=>{const m=g.target,b={x:g.clientX,y:g.clientY},_=(l==null?void 0:l.contains(m))||(u==null?void 0:u.contains(m)),y=!ld(b,i);_?f():y&&(f(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,u,i,c,f]),S.jsx(Di,{...t,ref:o})}),[td,rd]=ds(Ar,{isInside:!1}),sd=Aa("TooltipContent"),Di=w.forwardRef((t,e)=>{const{__scopeTooltip:r,children:s,"aria-label":n,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=t,l=fs(ur,r),c=hs(r),{onClose:u}=l;return w.useEffect(()=>(document.addEventListener(Hs,u),()=>document.removeEventListener(Hs,u)),[u]),w.useEffect(()=>{if(l.trigger){const h=f=>{const d=f.target;d!=null&&d.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),S.jsx(Ta,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:S.jsxs(Gu,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[S.jsx(sd,{children:s}),S.jsx(td,{scope:r,isInside:!0,children:S.jsx(Pa,{id:l.contentId,role:"tooltip",children:n||s})})]})})});Li.displayName=ur;var Ni="TooltipArrow",nd=w.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,n=hs(r);return rd(Ni,r).isInside?null:S.jsx(Ku,{...n,...s,ref:e})});nd.displayName=Ni;function od(t,e){const r=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),n=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(r,s,n,o)){case o:return"left";case n:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function id(t,e,r=5){const s=[];switch(e){case"top":s.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":s.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":s.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":s.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return s}function ad(t){const{top:e,right:r,bottom:s,left:n}=t;return[{x:n,y:e},{x:r,y:e},{x:r,y:s},{x:n,y:s}]}function ld(t,e){const{x:r,y:s}=t;let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o],l=e[i],c=a.x,u=a.y,h=l.x,f=l.y;u>s!=f>s&&r<(h-c)*(s-u)/(f-u)+c&&(n=!n)}return n}function cd(t){const e=t.slice();return e.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),ud(e)}function ud(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const n=t[s];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(n.y-i.y)>=(o.y-i.y)*(n.x-i.x))e.pop();else break}e.push(n)}e.pop();const r=[];for(let s=t.length-1;s>=0;s--){const n=t[s];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(n.y-i.y)>=(o.y-i.y)*(n.x-i.x))r.pop();else break}r.push(n)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var dd=ji,hd=Ii,fd=$i,Mi=Li;const gd=dd,$g=hd,Lg=fd,pd=w.forwardRef(({className:t,sideOffset:e=4,...r},s)=>S.jsx(Mi,{ref:s,sideOffset:e,className:Je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));pd.displayName=Mi.displayName;var gs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ps=typeof window>"u"||"Deno"in globalThis;function Pe(){}function md(t,e){return typeof t=="function"?t(e):t}function yd(t){return typeof t=="number"&&t>=0&&t!==1/0}function vd(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Gs(t,e){return typeof t=="function"?t(e):t}function wd(t,e){return typeof t=="function"?t(e):t}function Zn(t,e){const{type:r="all",exact:s,fetchStatus:n,predicate:o,queryKey:i,stale:a}=t;if(i){if(s){if(e.queryHash!==yn(i,e.options))return!1}else if(!Cr(e.queryKey,i))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||n&&n!==e.state.fetchStatus||o&&!o(e))}function eo(t,e){const{exact:r,status:s,predicate:n,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(Pr(e.options.mutationKey)!==Pr(o))return!1}else if(!Cr(e.options.mutationKey,o))return!1}return!(s&&e.state.status!==s||n&&!n(e))}function yn(t,e){return((e==null?void 0:e.queryKeyHashFn)||Pr)(t)}function Pr(t){return JSON.stringify(t,(e,r)=>Ks(r)?Object.keys(r).sort().reduce((s,n)=>(s[n]=r[n],s),{}):r)}function Cr(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Cr(t[r],e[r])):!1}function Ui(t,e){if(t===e)return t;const r=to(t)&&to(e);if(r||Ks(t)&&Ks(e)){const s=r?t:Object.keys(t),n=s.length,o=r?e:Object.keys(e),i=o.length,a=r?[]:{},l=new Set(s);let c=0;for(let u=0;u<i;u++){const h=r?u:o[u];(!r&&l.has(h)||r)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=Ui(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return n===i&&c===n?t:a}return e}function to(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ks(t){if(!ro(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!ro(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ro(t){return Object.prototype.toString.call(t)==="[object Object]"}function bd(t){return new Promise(e=>{setTimeout(e,t)})}function _d(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Ui(t,e):e}function xd(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function Sd(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var vn=Symbol();function Fi(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===vn?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Tt,ct,er,Oo,kd=(Oo=class extends gs{constructor(){super();H(this,Tt);H(this,ct);H(this,er);L(this,er,e=>{if(!ps&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){k(this,ct)||this.setEventListener(k(this,er))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,ct))==null||e.call(this),L(this,ct,void 0))}setEventListener(e){var r;L(this,er,e),(r=k(this,ct))==null||r.call(this),L(this,ct,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){k(this,Tt)!==e&&(L(this,Tt,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof k(this,Tt)=="boolean"?k(this,Tt):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Tt=new WeakMap,ct=new WeakMap,er=new WeakMap,Oo),qi=new kd,tr,ut,rr,Ro,Ed=(Ro=class extends gs{constructor(){super();H(this,tr,!0);H(this,ut);H(this,rr);L(this,rr,e=>{if(!ps&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){k(this,ut)||this.setEventListener(k(this,rr))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,ut))==null||e.call(this),L(this,ut,void 0))}setEventListener(e){var r;L(this,rr,e),(r=k(this,ut))==null||r.call(this),L(this,ut,e(this.setOnline.bind(this)))}setOnline(e){k(this,tr)!==e&&(L(this,tr,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return k(this,tr)}},tr=new WeakMap,ut=new WeakMap,rr=new WeakMap,Ro),rs=new Ed;function Td(){let t,e;const r=new Promise((n,o)=>{t=n,e=o});r.status="pending",r.catch(()=>{});function s(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{s({status:"fulfilled",value:n}),t(n)},r.reject=n=>{s({status:"rejected",reason:n}),e(n)},r}function Ad(t){return Math.min(1e3*2**t,3e4)}function Bi(t){return(t??"online")==="online"?rs.isOnline():!0}var zi=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Wi(t){let e=!1,r=0,s;const n=Td(),o=()=>n.status!=="pending",i=g=>{var m;o()||(f(new zi(g)),(m=t.abort)==null||m.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>qi.isFocused()&&(t.networkMode==="always"||rs.isOnline())&&t.canRun(),u=()=>Bi(t.networkMode)&&t.canRun(),h=g=>{o()||(s==null||s(),n.resolve(g))},f=g=>{o()||(s==null||s(),n.reject(g))},d=()=>new Promise(g=>{var m;s=b=>{(o()||c())&&g(b)},(m=t.onPause)==null||m.call(t)}).then(()=>{var g;s=void 0,o()||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(o())return;let g;const m=r===0?t.initialPromise:void 0;try{g=m??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(h).catch(b=>{var T;if(o())return;const _=t.retry??(ps?0:3),y=t.retryDelay??Ad,v=typeof y=="function"?y(r,b):y,E=_===!0||typeof _=="number"&&r<_||typeof _=="function"&&_(r,b);if(e||!E){f(b);return}r++,(T=t.onFail)==null||T.call(t,r,b),bd(v).then(()=>c()?void 0:d()).then(()=>{e?f(b):p()})})};return{promise:n,status:()=>n.status,cancel:i,continue:()=>(s==null||s(),n),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?p():d().then(p),n)}}var Pd=t=>setTimeout(t,0);function Cd(){let t=[],e=0,r=a=>{a()},s=a=>{a()},n=Pd;const o=a=>{e?t.push(a):n(()=>{r(a)})},i=()=>{const a=t;t=[],a.length&&n(()=>{s(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{n=a}}}var ye=Cd(),At,jo,Hi=(jo=class{constructor(){H(this,At)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yd(this.gcTime)&&L(this,At,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ps?1/0:300*1e3))}clearGcTimeout(){k(this,At)&&(clearTimeout(k(this,At)),L(this,At,void 0))}},At=new WeakMap,jo),sr,nr,xe,Pt,ue,Rr,Ct,Ce,ze,Io,Od=(Io=class extends Hi{constructor(e){super();H(this,Ce);H(this,sr);H(this,nr);H(this,xe);H(this,Pt);H(this,ue);H(this,Rr);H(this,Ct);L(this,Ct,!1),L(this,Rr,e.defaultOptions),this.setOptions(e.options),this.observers=[],L(this,Pt,e.client),L(this,xe,k(this,Pt).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,L(this,sr,jd(this.options)),this.state=e.state??k(this,sr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=k(this,ue))==null?void 0:e.promise}setOptions(e){this.options={...k(this,Rr),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,xe).remove(this)}setData(e,r){const s=_d(this.state.data,e,this.options);return he(this,Ce,ze).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(e,r){he(this,Ce,ze).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var s,n;const r=(s=k(this,ue))==null?void 0:s.promise;return(n=k(this,ue))==null||n.cancel(e),r?r.then(Pe).catch(Pe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,sr))}isActive(){return this.observers.some(e=>wd(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vn||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Gs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!vd(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=k(this,ue))==null||r.continue()}onOnline(){var r;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=k(this,ue))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),k(this,xe).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(k(this,ue)&&(k(this,Ct)?k(this,ue).cancel({revert:!0}):k(this,ue).cancelRetry()),this.scheduleGc()),k(this,xe).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||he(this,Ce,ze).call(this,{type:"invalidate"})}async fetch(e,r){var l,c,u,h,f,d,p,g,m,b,_,y;if(this.state.fetchStatus!=="idle"&&((l=k(this,ue))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(k(this,ue))return k(this,ue).continueRetry(),k(this,ue).promise}if(e&&this.setOptions(e),!this.options.queryFn){const v=this.observers.find(E=>E.options.queryFn);v&&this.setOptions(v.options)}const s=new AbortController,n=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(L(this,Ct,!0),s.signal)})},o=()=>{const v=Fi(this.options,r),T=(()=>{const P={client:k(this,Pt),queryKey:this.queryKey,meta:this.meta};return n(P),P})();return L(this,Ct,!1),this.options.persister?this.options.persister(v,T,this):v(T)},a=(()=>{const v={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:k(this,Pt),state:this.state,fetchFn:o};return n(v),v})();(c=this.options.behavior)==null||c.onFetch(a,this),L(this,nr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&he(this,Ce,ze).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),L(this,ue,Wi({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onFail:(v,E)=>{he(this,Ce,ze).call(this,{type:"failed",failureCount:v,error:E})},onPause:()=>{he(this,Ce,ze).call(this,{type:"pause"})},onContinue:()=>{he(this,Ce,ze).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const v=await k(this,ue).start();if(v===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(v),(d=(f=k(this,xe).config).onSuccess)==null||d.call(f,v,this),(g=(p=k(this,xe).config).onSettled)==null||g.call(p,v,this.state.error,this),v}catch(v){if(v instanceof zi){if(v.silent)return k(this,ue).promise;if(v.revert){if(this.setState({...k(this,nr),fetchStatus:"idle"}),this.state.data===void 0)throw v;return this.state.data}}throw he(this,Ce,ze).call(this,{type:"error",error:v}),(b=(m=k(this,xe).config).onError)==null||b.call(m,v,this),(y=(_=k(this,xe).config).onSettled)==null||y.call(_,this.state.data,v,this),v}finally{this.scheduleGc()}}},sr=new WeakMap,nr=new WeakMap,xe=new WeakMap,Pt=new WeakMap,ue=new WeakMap,Rr=new WeakMap,Ct=new WeakMap,Ce=new WeakSet,ze=function(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Rd(s.data,this.options),fetchMeta:e.meta??null};case"success":const n={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return L(this,nr,e.manual?n:void 0),n;case"error":const o=e.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),ye.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),k(this,xe).notify({query:this,type:"updated",action:e})})},Io);function Rd(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Bi(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function jd(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Le,$o,Id=($o=class extends gs{constructor(e={}){super();H(this,Le);this.config=e,L(this,Le,new Map)}build(e,r,s){const n=r.queryKey,o=r.queryHash??yn(n,r);let i=this.get(o);return i||(i=new Od({client:e,queryKey:n,queryHash:o,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){k(this,Le).has(e.queryHash)||(k(this,Le).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=k(this,Le).get(e.queryHash);r&&(e.destroy(),r===e&&k(this,Le).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ye.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return k(this,Le).get(e)}getAll(){return[...k(this,Le).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>Zn(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>Zn(e,s)):r}notify(e){ye.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ye.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ye.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Le=new WeakMap,$o),De,me,Ot,Ne,it,Lo,$d=(Lo=class extends Hi{constructor(e){super();H(this,Ne);H(this,De);H(this,me);H(this,Ot);this.mutationId=e.mutationId,L(this,me,e.mutationCache),L(this,De,[]),this.state=e.state||Ld(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){k(this,De).includes(e)||(k(this,De).push(e),this.clearGcTimeout(),k(this,me).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){L(this,De,k(this,De).filter(r=>r!==e)),this.scheduleGc(),k(this,me).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){k(this,De).length||(this.state.status==="pending"?this.scheduleGc():k(this,me).remove(this))}continue(){var e;return((e=k(this,Ot))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,i,a,l,c,u,h,f,d,p,g,m,b,_,y,v,E,T,P,j;const r=()=>{he(this,Ne,it).call(this,{type:"continue"})};L(this,Ot,Wi({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,N)=>{he(this,Ne,it).call(this,{type:"failed",failureCount:C,error:N})},onPause:()=>{he(this,Ne,it).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,me).canRun(this)}));const s=this.state.status==="pending",n=!k(this,Ot).canStart();try{if(s)r();else{he(this,Ne,it).call(this,{type:"pending",variables:e,isPaused:n}),await((i=(o=k(this,me).config).onMutate)==null?void 0:i.call(o,e,this));const N=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));N!==this.state.context&&he(this,Ne,it).call(this,{type:"pending",context:N,variables:e,isPaused:n})}const C=await k(this,Ot).start();return await((u=(c=k(this,me).config).onSuccess)==null?void 0:u.call(c,C,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,C,e,this.state.context)),await((p=(d=k(this,me).config).onSettled)==null?void 0:p.call(d,C,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,C,null,e,this.state.context)),he(this,Ne,it).call(this,{type:"success",data:C}),C}catch(C){try{throw await((_=(b=k(this,me).config).onError)==null?void 0:_.call(b,C,e,this.state.context,this)),await((v=(y=this.options).onError)==null?void 0:v.call(y,C,e,this.state.context)),await((T=(E=k(this,me).config).onSettled)==null?void 0:T.call(E,void 0,C,this.state.variables,this.state.context,this)),await((j=(P=this.options).onSettled)==null?void 0:j.call(P,void 0,C,e,this.state.context)),C}finally{he(this,Ne,it).call(this,{type:"error",error:C})}}finally{k(this,me).runNext(this)}}},De=new WeakMap,me=new WeakMap,Ot=new WeakMap,Ne=new WeakSet,it=function(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ye.batch(()=>{k(this,De).forEach(s=>{s.onMutationUpdate(e)}),k(this,me).notify({mutation:this,type:"updated",action:e})})},Lo);function Ld(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ve,Oe,jr,Do,Dd=(Do=class extends gs{constructor(e={}){super();H(this,Ve);H(this,Oe);H(this,jr);this.config=e,L(this,Ve,new Set),L(this,Oe,new Map),L(this,jr,0)}build(e,r,s){const n=new $d({mutationCache:this,mutationId:++Ur(this,jr)._,options:e.defaultMutationOptions(r),state:s});return this.add(n),n}add(e){k(this,Ve).add(e);const r=zr(e);if(typeof r=="string"){const s=k(this,Oe).get(r);s?s.push(e):k(this,Oe).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(k(this,Ve).delete(e)){const r=zr(e);if(typeof r=="string"){const s=k(this,Oe).get(r);if(s)if(s.length>1){const n=s.indexOf(e);n!==-1&&s.splice(n,1)}else s[0]===e&&k(this,Oe).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=zr(e);if(typeof r=="string"){const s=k(this,Oe).get(r),n=s==null?void 0:s.find(o=>o.state.status==="pending");return!n||n===e}else return!0}runNext(e){var s;const r=zr(e);if(typeof r=="string"){const n=(s=k(this,Oe).get(r))==null?void 0:s.find(o=>o!==e&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ye.batch(()=>{k(this,Ve).forEach(e=>{this.notify({type:"removed",mutation:e})}),k(this,Ve).clear(),k(this,Oe).clear()})}getAll(){return Array.from(k(this,Ve))}find(e){const r={exact:!0,...e};return this.getAll().find(s=>eo(r,s))}findAll(e={}){return this.getAll().filter(r=>eo(e,r))}notify(e){ye.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return ye.batch(()=>Promise.all(e.map(r=>r.continue().catch(Pe))))}},Ve=new WeakMap,Oe=new WeakMap,jr=new WeakMap,Do);function zr(t){var e;return(e=t.options.scope)==null?void 0:e.id}function so(t){return{onFetch:(e,r)=>{var u,h,f,d,p;const s=e.options,n=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,o=((d=e.state.data)==null?void 0:d.pages)||[],i=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const m=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=Fi(e.options,e.fetchOptions),_=async(y,v,E)=>{if(g)return Promise.reject();if(v==null&&y.pages.length)return Promise.resolve(y);const P=(()=>{const G={client:e.client,queryKey:e.queryKey,pageParam:v,direction:E?"backward":"forward",meta:e.options.meta};return m(G),G})(),j=await b(P),{maxPages:C}=e.options,N=E?Sd:xd;return{pages:N(y.pages,j,C),pageParams:N(y.pageParams,v,C)}};if(n&&o.length){const y=n==="backward",v=y?Nd:no,E={pages:o,pageParams:i},T=v(s,E);a=await _(E,T,y)}else{const y=t??o.length;do{const v=l===0?i[0]??s.initialPageParam:no(s,a);if(l>0&&v==null)break;a=await _(a,v),l++}while(l<y)}return a};e.options.persister?e.fetchFn=()=>{var g,m;return(m=(g=e.options).persister)==null?void 0:m.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function no(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function Nd(t,{pages:e,pageParams:r}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,r[0],r):void 0}var se,dt,ht,or,ir,ft,ar,lr,No,Md=(No=class{constructor(t={}){H(this,se);H(this,dt);H(this,ht);H(this,or);H(this,ir);H(this,ft);H(this,ar);H(this,lr);L(this,se,t.queryCache||new Id),L(this,dt,t.mutationCache||new Dd),L(this,ht,t.defaultOptions||{}),L(this,or,new Map),L(this,ir,new Map),L(this,ft,0)}mount(){Ur(this,ft)._++,k(this,ft)===1&&(L(this,ar,qi.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,se).onFocus())})),L(this,lr,rs.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,se).onOnline())})))}unmount(){var t,e;Ur(this,ft)._--,k(this,ft)===0&&((t=k(this,ar))==null||t.call(this),L(this,ar,void 0),(e=k(this,lr))==null||e.call(this),L(this,lr,void 0))}isFetching(t){return k(this,se).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return k(this,dt).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=k(this,se).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=k(this,se).build(this,e),s=r.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Gs(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return k(this,se).findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),n=k(this,se).get(s.queryHash),o=n==null?void 0:n.state.data,i=md(e,o);if(i!==void 0)return k(this,se).build(this,s).setData(i,{...r,manual:!0})}setQueriesData(t,e,r){return ye.batch(()=>k(this,se).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=k(this,se).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=k(this,se);ye.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=k(this,se);return ye.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},s=ye.batch(()=>k(this,se).findAll(t).map(n=>n.cancel(r)));return Promise.all(s).then(Pe).catch(Pe)}invalidateQueries(t,e={}){return ye.batch(()=>(k(this,se).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},s=ye.batch(()=>k(this,se).findAll(t).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let o=n.fetch(void 0,r);return r.throwOnError||(o=o.catch(Pe)),n.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(Pe)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=k(this,se).build(this,e);return r.isStaleByTime(Gs(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Pe).catch(Pe)}fetchInfiniteQuery(t){return t.behavior=so(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Pe).catch(Pe)}ensureInfiniteQueryData(t){return t.behavior=so(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return rs.isOnline()?k(this,dt).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,se)}getMutationCache(){return k(this,dt)}getDefaultOptions(){return k(this,ht)}setDefaultOptions(t){L(this,ht,t)}setQueryDefaults(t,e){k(this,or).set(Pr(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...k(this,or).values()],r={};return e.forEach(s=>{Cr(t,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(t,e){k(this,ir).set(Pr(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...k(this,ir).values()],r={};return e.forEach(s=>{Cr(t,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...k(this,ht).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=yn(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===vn&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...k(this,ht).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){k(this,se).clear(),k(this,dt).clear()}},se=new WeakMap,dt=new WeakMap,ht=new WeakMap,or=new WeakMap,ir=new WeakMap,ft=new WeakMap,ar=new WeakMap,lr=new WeakMap,No),Ud=w.createContext(void 0),Fd=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),S.jsx(Ud.Provider,{value:t,children:e}));class qd extends w.Component{constructor(r){super(r);_t(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,s){this.setState({error:r,errorInfo:s}),this.props.onError&&this.props.onError(r,s)}componentDidUpdate(r){this.props.resetOnPropsChange&&r!==this.props&&this.setState({hasError:!1,error:null,errorInfo:null})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:S.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6",children:[S.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 dark:bg-red-900 rounded-full",children:S.jsx("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),S.jsxs("div",{className:"mt-4 text-center",children:[S.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Something went wrong"}),S.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),!1,S.jsxs("div",{className:"mt-6 flex space-x-3",children:[S.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Try Again"}),S.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-gray-600 text-white text-sm font-medium rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors",children:"Refresh Page"})]})]})]})}):this.props.children}}const Bd=({className:t="",width:e,height:r,rounded:s="md",animated:n=!0})=>{const o={none:"",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"};return S.jsx("div",{className:Je("bg-slate-200 dark:bg-slate-700",o[s],n&&"animate-pulse",t),style:{width:e,height:r}})},zd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>q(async()=>{const{default:s}=await Promise.resolve().then(()=>pr);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)};class wn extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class Wd extends wn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class oo extends wn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class io extends wn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Js;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Js||(Js={}));var Hd=function(t,e,r,s){function n(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{c(s.next(u))}catch(h){i(h)}}function l(u){try{c(s.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class Vd{constructor(e,{headers:r={},customFetch:s,region:n=Js.Any}={}){this.url=e,this.headers=r,this.region=n,this.fetch=zd(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var s;return Hd(this,void 0,void 0,function*(){try{const{headers:n,method:o,body:i}=r;let a={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let u;i&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(a["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(a["Content-Type"]="application/json",u=JSON.stringify(i)));const h=yield this.fetch(c.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(g=>{throw new Wd(g)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new oo(h);if(!h.ok)throw new io(h);let d=((s=h.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),p;return d==="application/json"?p=yield h.json():d==="application/octet-stream"?p=yield h.blob():d==="text/event-stream"?p=h:d==="multipart/form-data"?p=yield h.formData():p=yield h.text(),{data:p,error:null,response:h}}catch(n){return{data:null,error:n,response:n instanceof io||n instanceof oo?n.context:void 0}}})}}var le={},Ft={},qt={},Bt={},zt={},Wt={},Gd=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},dr=Gd();const Kd=dr.fetch,Vi=dr.fetch.bind(dr),Gi=dr.Headers,Jd=dr.Request,Qd=dr.Response,pr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Gi,Request:Jd,Response:Qd,default:Vi,fetch:Kd},Symbol.toStringTag,{value:"Module"})),Yd=$a(pr);var Wr={},ao;function Ki(){if(ao)return Wr;ao=1,Object.defineProperty(Wr,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Wr.default=t,Wr}var lo;function Ji(){if(lo)return Wt;lo=1;var t=Wt&&Wt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Wt,"__esModule",{value:!0});const e=t(Yd),r=t(Ki());class s{constructor(o){var i,a;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(i=o.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=o.signal,this.isMaybeSingle=(a=o.isMaybeSingle)!==null&&a!==void 0?a:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,i){return this.headers=new Headers(this.headers),this.headers.set(o,i),this}then(o,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,f,d;let p=null,g=null,m=null,b=c.status,_=c.statusText;if(c.ok){if(this.method!=="HEAD"){const T=await c.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=T:g=JSON.parse(T))}const v=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),E=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");v&&E&&E.length>1&&(m=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,b=406,_="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const v=await c.text();try{p=JSON.parse(v),Array.isArray(p)&&c.status===404&&(g=[],p=null,b=200,_="OK")}catch{c.status===404&&v===""?(b=204,_="No Content"):p={message:v}}if(p&&this.isMaybeSingle&&(!((d=p==null?void 0:p.details)===null||d===void 0)&&d.includes("0 rows"))&&(p=null,b=200,_="OK"),p&&this.shouldThrowOnError)throw new r.default(p)}return{error:p,data:g,count:m,status:b,statusText:_}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,f;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(h=c==null?void 0:c.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(o,i)}returns(){return this}overrideTypes(){return this}}return Wt.default=s,Wt}var co;function Qi(){if(co)return zt;co=1;var t=zt&&zt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(zt,"__esModule",{value:!0});const e=t(Ji());class r extends e.default{select(n){let o=!1;const i=(n??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:o=!0,nullsFirst:i,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${n}.${o?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:o,referencedTable:i=o}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,o,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${o-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:o=!1,settings:i=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[n?"analyze":null,o?"verbose":null,i?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}}return zt.default=r,zt}var uo;function bn(){if(uo)return Bt;uo=1;var t=Bt&&Bt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Bt,"__esModule",{value:!0});const e=t(Qi());class r extends e.default{eq(n,o){return this.url.searchParams.append(n,`eq.${o}`),this}neq(n,o){return this.url.searchParams.append(n,`neq.${o}`),this}gt(n,o){return this.url.searchParams.append(n,`gt.${o}`),this}gte(n,o){return this.url.searchParams.append(n,`gte.${o}`),this}lt(n,o){return this.url.searchParams.append(n,`lt.${o}`),this}lte(n,o){return this.url.searchParams.append(n,`lte.${o}`),this}like(n,o){return this.url.searchParams.append(n,`like.${o}`),this}likeAllOf(n,o){return this.url.searchParams.append(n,`like(all).{${o.join(",")}}`),this}likeAnyOf(n,o){return this.url.searchParams.append(n,`like(any).{${o.join(",")}}`),this}ilike(n,o){return this.url.searchParams.append(n,`ilike.${o}`),this}ilikeAllOf(n,o){return this.url.searchParams.append(n,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(n,o){return this.url.searchParams.append(n,`ilike(any).{${o.join(",")}}`),this}is(n,o){return this.url.searchParams.append(n,`is.${o}`),this}in(n,o){const i=Array.from(new Set(o)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${i})`),this}contains(n,o){return typeof o=="string"?this.url.searchParams.append(n,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(n,`cs.{${o.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(o)}`),this}containedBy(n,o){return typeof o=="string"?this.url.searchParams.append(n,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(n,`cd.{${o.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(o)}`),this}rangeGt(n,o){return this.url.searchParams.append(n,`sr.${o}`),this}rangeGte(n,o){return this.url.searchParams.append(n,`nxl.${o}`),this}rangeLt(n,o){return this.url.searchParams.append(n,`sl.${o}`),this}rangeLte(n,o){return this.url.searchParams.append(n,`nxr.${o}`),this}rangeAdjacent(n,o){return this.url.searchParams.append(n,`adj.${o}`),this}overlaps(n,o){return typeof o=="string"?this.url.searchParams.append(n,`ov.${o}`):this.url.searchParams.append(n,`ov.{${o.join(",")}}`),this}textSearch(n,o,{config:i,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=i===void 0?"":`(${i})`;return this.url.searchParams.append(n,`${l}fts${c}.${o}`),this}match(n){return Object.entries(n).forEach(([o,i])=>{this.url.searchParams.append(o,`eq.${i}`)}),this}not(n,o,i){return this.url.searchParams.append(n,`not.${o}.${i}`),this}or(n,{foreignTable:o,referencedTable:i=o}={}){const a=i?`${i}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,o,i){return this.url.searchParams.append(n,`${o}.${i}`),this}}return Bt.default=r,Bt}var ho;function Yi(){if(ho)return qt;ho=1;var t=qt&&qt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(qt,"__esModule",{value:!0});const e=t(bn());class r{constructor(n,{headers:o={},schema:i,fetch:a}){this.url=n,this.headers=new Headers(o),this.schema=i,this.fetch=a}select(n,{head:o=!1,count:i}={}){const a=o?"HEAD":"GET";let l=!1;const c=(n??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:o,defaultToNull:i=!0}={}){var a;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const c=n.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(n,{onConflict:o,ignoreDuplicates:i=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const h=n.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(h.length>0){const f=[...new Set(h)].map(d=>`"${d}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(n,{count:o}={}){var i;const a="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:n}={}){var o;const i="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return qt.default=r,qt}var fo;function Xd(){if(fo)return Ft;fo=1;var t=Ft&&Ft.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ft,"__esModule",{value:!0});const e=t(Yi()),r=t(bn());class s{constructor(o,{headers:i={},schema:a,fetch:l}={}){this.url=o,this.headers=new Headers(i),this.schemaName=a,this.fetch=l}from(o){const i=new URL(`${this.url}/${o}`);return new e.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,i={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const f=new URL(`${this.url}/rpc/${o}`);let d;a||l?(h=a?"HEAD":"GET",Object.entries(i).filter(([g,m])=>m!==void 0).map(([g,m])=>[g,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([g,m])=>{f.searchParams.append(g,m)})):(h="POST",d=i);const p=new Headers(this.headers);return c&&p.set("Prefer",`count=${c}`),new r.default({method:h,url:f,headers:p,schema:this.schemaName,body:d,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Ft.default=s,Ft}var go;function Zd(){if(go)return le;go=1;var t=le&&le.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(le,"__esModule",{value:!0}),le.PostgrestError=le.PostgrestBuilder=le.PostgrestTransformBuilder=le.PostgrestFilterBuilder=le.PostgrestQueryBuilder=le.PostgrestClient=void 0;const e=t(Xd());le.PostgrestClient=e.default;const r=t(Yi());le.PostgrestQueryBuilder=r.default;const s=t(bn());le.PostgrestFilterBuilder=s.default;const n=t(Qi());le.PostgrestTransformBuilder=n.default;const o=t(Ji());le.PostgrestBuilder=o.default;const i=t(Ki());return le.PostgrestError=i.default,le.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:o.default,PostgrestError:i.default},le}var eh=Zd();const th=Ho(eh),{PostgrestClient:rh,PostgrestQueryBuilder:Dg,PostgrestFilterBuilder:Ng,PostgrestTransformBuilder:Mg,PostgrestBuilder:Ug,PostgrestError:Fg}=th;class sh{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const nh="2.15.4",oh=`realtime-js/${nh}`,ih="1.0.0",Qs=1e4,ah=1e3,lh=100;var xr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xr||(xr={}));var oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(oe||(oe={}));var Re;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Re||(Re={}));var Ys;(function(t){t.websocket="websocket"})(Ys||(Ys={}));var Et;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Et||(Et={}));class ch{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,r,s)}_decodeBroadcast(e,r,s){const n=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const a=s.decode(e.slice(i,i+n));i=i+n;const l=s.decode(e.slice(i,i+o));i=i+o;const c=JSON.parse(s.decode(e.slice(i,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Xi{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var X;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(X||(X={}));const po=(t,e,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((o,i)=>(o[i]=uh(i,t,e,n),o),{})},uh=(t,e,r,s)=>{const n=e.find(a=>a.name===t),o=n==null?void 0:n.type,i=r[t];return o&&!s.includes(o)?Zi(o,i):Xs(i)},Zi=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return gh(e,r)}switch(t){case X.bool:return dh(e);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return hh(e);case X.json:case X.jsonb:return fh(e);case X.timestamp:return ph(e);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return Xs(e);default:return Xs(e)}},Xs=t=>t,dh=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},hh=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},fh=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},gh=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Zi(e,a))}return t},ph=t=>typeof t=="string"?t.replace(" ","T"):t,ea=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class As{constructor(e,r,s={},n=Qs){this.channel=e,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mo;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(mo||(mo={}));class Sr{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sr.syncState(this.state,n,o,i),this.pendingDiffs.forEach(l=>{this.state=Sr.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Sr.syncDiff(this.state,n,o,i),a())}),this.onJoin((n,o,i)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:o,newPresences:i})}),this.onLeave((n,o,i)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,n){const o=this.cloneDeep(e),i=this.transformState(r),a={},l={};return this.map(o,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const h=o[c];if(h){const f=u.map(m=>m.presence_ref),d=h.map(m=>m.presence_ref),p=u.filter(m=>d.indexOf(m.presence_ref)<0),g=h.filter(m=>f.indexOf(m.presence_ref)<0);p.length>0&&(a[c]=p),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},s,n)}static syncDiff(e,r,s,n){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(d=>d.presence_ref),f=u.filter(d=>h.indexOf(d.presence_ref)<0);e[a].unshift(...f)}s(a,u,l)}),this.map(i,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const n=e[s];return"metas"in n?r[s]=n.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[s]=n,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yo;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(yo||(yo={}));var kr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(kr||(kr={}));var He;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(He||(He={}));class _n{constructor(e,r={config:{}},s){this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new As(this,Re.join,this.params,this.timeout),this.rejoinTimer=new Xi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=oe.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Re.reply,{},(n,o)=>{this._trigger(this._replyEventName(o),n)}),this.presence=new Sr(this),this.broadcastEndpointURL=ea(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var s,n,o;if(this.socket.isConnected()||this.socket.connect(),this.state==oe.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,c=(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(d=>d.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[kr.PRESENCE]&&this.bindings[kr.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},f={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(d=>e==null?void 0:e(He.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(He.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var p;if(this.socket.setAuth(),d===void 0){e==null||e(He.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,m=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,b=[];for(let _=0;_<m;_++){const y=g[_],{filter:{event:v,schema:E,table:T,filter:P}}=y,j=d&&d[_];if(j&&j.event===v&&j.schema===E&&j.table===T&&j.filter===P)b.push(Object.assign(Object.assign({},y),{id:j.id}));else{this.unsubscribe(),this.state=oe.errored,e==null||e(He.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(He.SUBSCRIBED);return}}).receive("error",d=>{this.state=oe.errored,e==null||e(He.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(He.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===oe.joined&&e===kr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,s)}async send(e,r={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=oe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Re.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new As(this,Re.leave,{},e),s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=oe.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const n=new AbortController,o=setTimeout(()=>n.abort(),s),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(o),i}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new As(this,e,r,s);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>lh){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var n,o;const i=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Re;if(s&&[a,l,c,u].indexOf(i)>=0&&s!==this._joinRef())return;let f=this._onMessage(i,r,s);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(d=>{var p,g,m;return((p=d.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(g=d.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===i}).map(d=>d.callback(f,s)):(o=this.bindings[i])===null||o===void 0||o.filter(d=>{var p,g,m,b,_,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in d){const v=d.id,E=(p=d.filter)===null||p===void 0?void 0:p.event;return v&&((g=r.ids)===null||g===void 0?void 0:g.includes(v))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((m=r.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const v=(_=(b=d==null?void 0:d.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return v==="*"||v===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===i}).map(d=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:g,table:m,commit_timestamp:b,type:_,errors:y}=p;f=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:b,eventType:_,new:{},old:{},errors:y}),this._getPayloadRecords(p))}d.callback(f,s)})}_isClosed(){return this.state===oe.closed}_isJoined(){return this.state===oe.joined}_isJoining(){return this.state===oe.joining}_isLeaving(){return this.state===oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const n=e.toLocaleLowerCase(),o={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(o):this.bindings[n]=[o],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(n=>{var o;return!(((o=n.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&_n.isEqual(n.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Re.close,{},e)}_onError(e){this._on(Re.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=po(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=po(e.columns,e.old_record)),r}}const Ps=()=>{},Hr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},mh=[1e3,2e3,5e3,1e4],yh=1e4,vh=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wh{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qs,this.transport=null,this.heartbeatIntervalMs=Hr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ps,this.ref=0,this.reconnectTimer=null,this.logger=Ps,this.conn=null,this.sendBuffer=[],this.serializer=new ch,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let o;return n?o=n:typeof fetch>"u"?o=(...i)=>q(async()=>{const{default:a}=await Promise.resolve().then(()=>pr);return{default:a}},void 0).then(({default:a})=>a(...i)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Ys.websocket}`,this.httpEndpoint=ea(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sh.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ih}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case xr.connecting:return Et.Connecting;case xr.open:return Et.Open;case xr.closing:return Et.Closing;default:return Et.Closed}}isConnected(){return this.connectionState()===Et.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,n=this.getChannels().find(o=>o.topic===s);if(n)return n;{const o=new _n(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:s,payload:n,ref:o}=e,i=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${s} (${o})`,n),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(ah,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Hr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:n,payload:o,ref:i}=r,a=i?`(${i})`:"",l=o.status||"";this.log("receive",`${l} ${s} ${n} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(n,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Re.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${e}${s}${n}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([vh],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const n={access_token:r,version:oh};r&&s.updateJoinPayload(n),s.joinedOnce&&s._isJoined()&&s._push(Re.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Xi(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,n,o,i,a,l,c,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:Qs,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:Hr.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Ps,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:(h=>mh[h-1]||yh),this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:((h,f)=>f(JSON.stringify(h))),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class xn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ie(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class bh extends xn{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zs extends xn{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var _h=function(t,e,r,s){function n(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{c(s.next(u))}catch(h){i(h)}}function l(u){try{c(s.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const ta=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>q(async()=>{const{default:s}=await Promise.resolve().then(()=>pr);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},xh=()=>_h(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield q(()=>Promise.resolve().then(()=>pr),void 0)).Response:Response}),en=t=>{if(Array.isArray(t))return t.map(r=>en(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[n]=en(s)}),e},Sh=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var jt=function(t,e,r,s){function n(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{c(s.next(u))}catch(h){i(h)}}function l(u){try{c(s.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const Cs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kh=(t,e,r)=>jt(void 0,void 0,void 0,function*(){const s=yield xh();t instanceof s&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const o=t.status||500,i=(n==null?void 0:n.statusCode)||o+"";e(new bh(Cs(n),o,i))}).catch(n=>{e(new Zs(Cs(n),n))}):e(new Zs(Cs(t),t))}),Eh=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?n:(Sh(s)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(s)):n.body=s,e!=null&&e.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),r))};function Lr(t,e,r,s,n,o){return jt(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(r,Eh(e,s,n,o)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>kh(l,a,s))})})}function ss(t,e,r,s){return jt(this,void 0,void 0,function*(){return Lr(t,"GET",e,r,s)})}function $e(t,e,r,s,n){return jt(this,void 0,void 0,function*(){return Lr(t,"POST",e,s,n,r)})}function tn(t,e,r,s,n){return jt(this,void 0,void 0,function*(){return Lr(t,"PUT",e,s,n,r)})}function Th(t,e,r,s){return jt(this,void 0,void 0,function*(){return Lr(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function ra(t,e,r,s,n){return jt(this,void 0,void 0,function*(){return Lr(t,"DELETE",e,s,n,r)})}var pe=function(t,e,r,s){function n(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{c(s.next(u))}catch(h){i(h)}}function l(u){try{c(s.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const Ah={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ph{constructor(e,r={},s,n){this.url=e,this.headers=r,this.bucketId=s,this.fetch=ta(n)}uploadOrUpdate(e,r,s,n){return pe(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},vo),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=s,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),h=yield(e=="PUT"?tn:$e)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(ie(o))return{data:null,error:o};throw o}})}upload(e,r,s){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,n){return pe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:vo.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield tn(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:h.Key},error:null}}catch(l){if(ie(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return pe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);r!=null&&r.upsert&&(n["x-upsert"]="true");const o=yield $e(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new xn("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}update(e,r,s){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return pe(this,void 0,void 0,function*(){try{return{data:yield $e(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}copy(e,r,s){return pe(this,void 0,void 0,function*(){try{return{data:{path:(yield $e(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}createSignedUrl(e,r,s){return pe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),o=yield $e(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}createSignedUrls(e,r,s){return pe(this,void 0,void 0,function*(){try{const n=yield $e(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}download(e,r){return pe(this,void 0,void 0,function*(){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ss(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ie(a))return{data:null,error:a};throw a}})}info(e){return pe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield ss(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:en(s),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}exists(e){return pe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Th(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(ie(s)&&s instanceof Zs){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),n=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&n.push(o);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return pe(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}list(e,r,s){return pe(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Ah),r),{prefix:e||""});return{data:yield $e(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}listV2(e,r){return pe(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield $e(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ch="2.11.0",Oh={"X-Client-Info":`storage-js/${Ch}`};var Ht=function(t,e,r,s){function n(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{c(s.next(u))}catch(h){i(h)}}function l(u){try{c(s.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class Rh{constructor(e,r={},s,n){const o=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},Oh),r),this.fetch=ta(s)}listBuckets(){return Ht(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ie(e))return{data:null,error:e};throw e}})}getBucket(e){return Ht(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Ht(this,void 0,void 0,function*(){try{return{data:yield $e(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return Ht(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Ht(this,void 0,void 0,function*(){try{return{data:yield $e(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ht(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}}class jh extends Rh{constructor(e,r={},s,n){super(e,r,s,n)}from(e){return new Ph(this.url,this.headers,e,this.fetch)}}const Ih="2.56.1";let br="";typeof Deno<"u"?br="deno":typeof document<"u"?br="web":typeof navigator<"u"&&navigator.product==="ReactNative"?br="react-native":br="node";const $h={"X-Client-Info":`supabase-js-${br}/${Ih}`},Lh={headers:$h},Dh={schema:"public"},Nh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mh={};var Uh=function(t,e,r,s){function n(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{c(s.next(u))}catch(h){i(h)}}function l(u){try{c(s.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const Fh=t=>{let e;return t?e=t:typeof fetch>"u"?e=Vi:e=fetch,(...r)=>e(...r)},qh=()=>typeof Headers>"u"?Gi:Headers,Bh=(t,e,r)=>{const s=Fh(r),n=qh();return(o,i)=>Uh(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new n(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(o,Object.assign(Object.assign({},i),{headers:c}))})};var zh=function(t,e,r,s){function n(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{c(s.next(u))}catch(h){i(h)}}function l(u){try{c(s.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};function Wh(t){return t.endsWith("/")?t:t+"/"}function Hh(t,e){var r,s;const{db:n,auth:o,realtime:i,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,f={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>zh(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const sa="2.71.1",Qt=30*1e3,rn=3,Os=rn*Qt,Vh="http://localhost:9999",Gh="supabase.auth.token",Kh={"X-Client-Info":`gotrue-js/${sa}`},sn="X-Supabase-Api-Version",na={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jh=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qh=600*1e3;class Sn extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function M(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Yh extends Sn{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Xh(t){return M(t)&&t.name==="AuthApiError"}class oa extends Sn{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class yt extends Sn{constructor(e,r,s,n){super(e,s,n),this.name=r,this.status=s}}class at extends yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Zh(t){return M(t)&&t.name==="AuthSessionMissingError"}class Vr extends yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gr extends yt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Kr extends yt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ef(t){return M(t)&&t.name==="AuthImplicitGrantRedirectError"}class wo extends yt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nn extends yt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Rs(t){return M(t)&&t.name==="AuthRetryableFetchError"}class bo extends yt{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class on extends yt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ns="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_o=` 	
\r=`.split(""),tf=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<_o.length;e+=1)t[_o[e].charCodeAt(0)]=-2;for(let e=0;e<ns.length;e+=1)t[ns[e].charCodeAt(0)]=e;return t})();function xo(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(ns[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(ns[s]),e.queuedBits-=6}}function ia(t,e,r){const s=tf[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function So(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},o=i=>{nf(i,s,r)};for(let i=0;i<t.length;i+=1)ia(t.charCodeAt(i),n,o);return e.join("")}function rf(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function sf(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}rf(s,e)}}function nf(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function of(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)ia(t.charCodeAt(n),r,s);return new Uint8Array(e)}function af(t){const e=[];return sf(t,r=>e.push(r)),new Uint8Array(e)}function lf(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};return t.forEach(n=>xo(n,r,s)),xo(null,r,s),e.join("")}function cf(t){return Math.round(Date.now()/1e3)+t}function uf(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ae=()=>typeof window<"u"&&typeof document<"u",xt={tested:!1,writable:!1},aa=()=>{if(!Ae())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xt.tested)return xt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xt.tested=!0,xt.writable=!0}catch{xt.tested=!0,xt.writable=!1}return xt.writable};function df(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,o)=>{e[o]=n})}catch{}return r.searchParams.forEach((s,n)=>{e[n]=s}),e}const la=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>q(async()=>{const{default:s}=await Promise.resolve().then(()=>pr);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},hf=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Yt=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},St=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ot=async(t,e)=>{await t.removeItem(e)};class ms{constructor(){this.promise=new ms.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ms.promiseConstructor=Promise;function js(t){const e=t.split(".");if(e.length!==3)throw new on("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Jh.test(e[s]))throw new on("JWT not in base64url format");return{header:JSON.parse(So(e[0])),payload:JSON.parse(So(e[1])),signature:of(e[2]),raw:{header:e[0],payload:e[1]}}}async function ff(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function gf(t,e){return new Promise((s,n)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){s(i);return}}catch(i){if(!e(o,i)){n(i);return}}})()})}function pf(t){return("0"+t.toString(16)).substr(-2)}function mf(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let o=0;o<56;o++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,pf).join("")}async function yf(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(o=>String.fromCharCode(o)).join("")}async function vf(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await yf(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vt(t,e,r=!1){const s=mf();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await Yt(t,`${e}-code-verifier`,n);const o=await vf(s);return[o,s===o?"plain":"s256"]}const wf=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bf(t){const e=t.headers.get(sn);if(!e||!e.match(wf))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function _f(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function xf(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Sf=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gt(t){if(!Sf.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Is(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ko(t){return JSON.parse(JSON.stringify(t))}var kf=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};const kt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ef=[502,503,504];async function Eo(t){var e;if(!hf(t))throw new nn(kt(t),0);if(Ef.includes(t.status))throw new nn(kt(t),t.status);let r;try{r=await t.json()}catch(o){throw new oa(kt(o),o)}let s;const n=bf(t);if(n&&n.getTime()>=na["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new bo(kt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new at}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new bo(kt(r),t.status,r.weak_password.reasons);throw new Yh(kt(r),t.status||500,s)}const Tf=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function F(t,e,r,s){var n;const o=Object.assign({},s==null?void 0:s.headers);o[sn]||(o[sn]=na["2024-01-01"].name),s!=null&&s.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const i=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(i.redirect_to=s.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await Af(t,e,r+a,{headers:o,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function Af(t,e,r,s,n,o){const i=Tf(e,s,n,o);let a;try{a=await t(r,Object.assign({},i))}catch(l){throw console.error(l),new nn(kt(l),0)}if(a.ok||await Eo(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await Eo(l)}}function We(t){var e;let r=null;Rf(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=cf(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function To(t){const e=We(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function lt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Pf(t){return{data:t,error:null}}function Cf(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:o}=t,i=kf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function Of(t){return t}function Rf(t){return t.access_token&&t.refresh_token&&t.expires_in}const $s=["global","local","others"];var jf=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};class If{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=la(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=$s[0]){if($s.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$s.join(", ")}`);try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(M(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:lt})}catch(s){if(M(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=jf(e,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Cf,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(M(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:lt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,n,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(o=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:""},xform:Of});if(u.error)throw u.error;const h=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,d=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(M(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Gt(e);try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:lt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Gt(e);try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:lt})}catch(s){if(M(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){Gt(e);try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:lt})}catch(s){if(M(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Gt(e.userId);try{const{data:r,error:s}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Gt(e.userId),Gt(e.id);try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}}function Ao(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function $f(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Kt={debug:!!(globalThis&&aa()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ca extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Lf extends ca{}async function Df(t,e,r){Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await r()}finally{Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Lf(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Kt.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}$f();const Nf={url:Vh,storageKey:Gh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Kh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Po(t,e,r){return await r()}const Jt={};class Or{constructor(e){var r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Or.nextInstanceID,Or.nextInstanceID+=1,this.instanceID>0&&Ae()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Nf),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new If({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=la(n.fetch),this.lock=n.lock||Po,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ae()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Df:this.lock=Po,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:aa()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ao(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Ao(this.memoryStorage)),Ae()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Jt[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Jt[this.storageKey]=Object.assign(Object.assign({},Jt[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Jt[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Jt[this.storageKey]=Object.assign(Object.assign({},Jt[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sa}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=df(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),Ae()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:o}=await this._getSessionFromURL(r,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),ef(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?{error:r}:{error:new oa("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,n;try{const o=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:We}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(M(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,s,n;try{let o;if("email"in e){const{email:u,password:h,options:f}=e;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await Vt(this.storage,this.storageKey)),o=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:p},xform:We})}else if("phone"in e){const{phone:u,password:h,options:f}=e;o=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:We})}else throw new Gr("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(M(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:a}=e;r=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:To})}else if("phone"in e){const{phone:o,password:i,options:a}=e;r=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:To})}else throw new Gr("You must provide either an email or phone number and a password");const{data:s,error:n}=r;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Vr}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,s,n,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,s,n,o,i,a,l,c,u,h,f,d;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:m,wallet:b,statement:_,options:y}=e;let v;if(Ae())if(typeof b=="object")v=b;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))v=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=b}const E=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in v&&v.signIn){const T=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),_?{statement:_}:null));let P;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")P=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)P=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)p=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),g=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${E.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(n=(s=y==null?void 0:y.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const T=await v.signMessage(new TextEncoder().encode(p),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=T}}try{const{data:m,error:b}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:lf(g)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:We});if(b)throw b;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new Vr}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:b})}catch(m){if(M(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const r=await St(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{const{data:o,error:i}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:We});if(await ot(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Vr}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:n??null}),error:i})}catch(o){if(M(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:s,token:n,access_token:o,nonce:i}=e,a=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:We}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Vr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,s,n,o,i;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Vt(this.storage,this.storageKey));const{error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Gr("You must provide either an email or phone number.")}catch(a){if(M(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,s;try{let n,o;"options"in e&&(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:i,error:a}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:n,xform:We});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var r,s,n;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Vt(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:Pf})}catch(o){if(M(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new at;const{error:n}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(M(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:o}=e,{error:i}=await F(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:s,type:n,options:o}=e,{data:i,error:a}=await F(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new Gr("You must provide either an email or phone number and a type")}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await St(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Os:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const i=await St(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=Is()}if(this.storage.isServer&&e.user){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:n,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:lt}):await this._useSession(async r=>{var s,n,o;const{data:i,error:a}=r;if(a)throw a;return!(!((s=i.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new at}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0,xform:lt})})}catch(r){if(M(r))return Zh(r)&&(await this._removeSession(),await ot(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:n,error:o}=s;if(o)throw o;if(!n.session)throw new at;const i=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Vt(this.storage,this.storageKey));const{data:c,error:u}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:lt});if(u)throw u;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(s){if(M(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new at;const r=Date.now()/1e3;let s=r,n=!0,o=null;const{payload:i}=js(e.access_token);if(i.exp&&(s=i.exp,n=s<=r),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(M(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:i,error:a}=r;if(a)throw a;e=(s=i.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new at;const{session:n,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ae())throw new Kr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Kr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new wo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new wo("No code detected.");const{data:_,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=e;if(!o||!a||!i||!c)throw new Kr("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;l&&(f=parseInt(l));const d=f-u;d*1e3<=Qt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${h}s`);const p=f-h;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,u);const{data:g,error:m}=await this._getUser(o);if(m)throw m;const b={provider_token:s,provider_refresh_token:n,access_token:o,expires_in:h,expires_at:f,refresh_token:i,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(s){if(M(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await St(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:o}=r;if(o)return{error:o};const i=(s=n.session)===null||s===void 0?void 0:s.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(Xh(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ot(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=uf(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,n;try{const{data:{session:o},error:i}=r;if(i)throw i;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await Vt(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(M(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:s,error:n}=await this._useSession(async o=>{var i,a,l,c,u;const{data:h,error:f}=o;if(f)throw f;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",d,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return Ae()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(M(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,n;const{data:o,error:i}=r;if(i)throw i;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await gf(async n=>(n>0&&await ff(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:We})),(n,o)=>{const i=200*Math.pow(2,n);return o&&Rs(o)&&Date.now()+i-s<Qt})}catch(s){if(this._debug(r,"error",s),M(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),Ae()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await St(this.storage,this.storageKey);if(n&&this.userStorage){let i=await St(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:n.user},await Yt(this.userStorage,this.storageKey+"-user",i)),n.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:Is()}else if(n&&!n.user&&!n.user){const i=await St(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(n.user=i.user,await ot(this.storage,this.storageKey+"-user"),await Yt(this.storage,this.storageKey,n)):n.user=Is()}if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const o=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Os;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${Os}s`),o){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Rs(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(n.access_token);!a&&(i!=null&&i.user)?(n.user=i.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(s,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new at;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new ms;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new at;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(n,"error",o),M(o)){const i={session:null,error:o};return Rs(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,r,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Yt(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const o=ko(n);await Yt(this.storage,this.storageKey,o)}else{const n=ko(r);await Yt(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await ot(this.storage,this.storageKey),await ot(this.storage,this.storageKey+"-code-verifier"),await ot(this.storage,this.storageKey+"-user"),this.userStorage&&await ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ae()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/Qt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Qt}ms, refresh threshold is ${rn} ticks`),n<=rn&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ca)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ae()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,i]=await Vt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});n.push(a.toString())}if(s!=null&&s.queryParams){const o=new URLSearchParams(s.queryParams);n.push(o.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:n,error:o}=r;return o?{data:null,error:o}:await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,n;const{data:o,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await F(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:a}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:o}=r;return o?{data:null,error:o}:await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=(e==null?void 0:e.factors)||[],n=s.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=s.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:s,totp:n,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,s;const{data:{session:n},error:o}=e;if(o)return{data:null,error:o};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=js(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((s=(r=n.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(a=>a.kid===e);if(s)return s;const n=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+Qh>n)return s;const{data:o,error:i}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=n,s=o.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:d,error:p}=await this.getSession();if(p||!d.session)return{data:null,error:p};s=d.session.access_token}const{header:n,payload:o,signature:i,raw:{header:a,payload:l}}=js(s);r!=null&&r.allowExpired||_f(o.exp);const c=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:d}=await this.getUser(s);if(d)throw d;return{data:{claims:o,header:n,signature:i},error:null}}const u=xf(n.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,i,af(`${a}.${l}`)))throw new on("Invalid JWT signature");return{data:{claims:o,header:n,signature:i},error:null}}catch(s){if(M(s))return{data:null,error:s};throw s}}}Or.nextInstanceID=0;const Mf=Or;class Uf extends Mf{constructor(e){super(e)}}var Ff=function(t,e,r,s){function n(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{c(s.next(u))}catch(h){i(h)}}function l(u){try{c(s.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):n(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class qf{constructor(e,r,s){var n,o,i;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=Wh(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Dh,realtime:Mh,auth:Object.assign(Object.assign({},Nh),{storageKey:c}),global:Lh},h=Hh(s??{},u);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=h.auth)!==null&&i!==void 0?i:{},this.headers,h.global.fetch),this.fetch=Bh(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new rh(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new jh(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Vd(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Ff(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,storageKey:o,flowType:i,lock:a,debug:l},c,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Uf({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,flowType:i,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new wh(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Bf=(t,e,r)=>new qf(t,e,r);function zf(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}zf()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Wf="https://oxewcesyxhtlgjgzsfmk.supabase.co",Hf="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im94ZXdjZXN5eGh0bGdqZ3pzZm1rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY4MDE1MDUsImV4cCI6MjA3MjM3NzUwNX0.7-HvqcO4Z-eRNKhuz_3vrG9fKQ4k922kIDYvQkQeZbc",D=Bf(Wf,Hf,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});D.auth.onAuthStateChange((t,e)=>{console.log("Supabase auth event:",t),console.log("Session:",e)});class Vf{constructor(e={}){_t(this,"config");_t(this,"session");_t(this,"events",[]);_t(this,"flushTimer",null);_t(this,"isInitialized",!1);this.config={enabled:!0,debug:!1,batchSize:10,flushInterval:3e4,sessionTimeout:1800*1e3,...e},this.session=this.createSession()}init(){this.isInitialized||(this.isInitialized=!0,this.startSessionTracking(),this.trackPageView(),this.trackPerformance(),this.trackUserInteractions(),this.trackErrors(),this.startFlushTimer(),this.trackUTMParameters())}createSession(){return{sessionId:this.generateSessionId(),startTime:Date.now(),lastActivity:Date.now(),pageViews:0,events:[],userAgent:navigator.userAgent,referrer:document.referrer,utmSource:this.getURLParameter("utm_source"),utmMedium:this.getURLParameter("utm_medium"),utmCampaign:this.getURLParameter("utm_campaign")}}generateSessionId(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}getURLParameter(e){return new URLSearchParams(window.location.search).get(e)||void 0}startSessionTracking(){const e=()=>{this.session.lastActivity=Date.now()};["mousedown","mousemove","keypress","scroll","touchstart"].forEach(r=>{document.addEventListener(r,e,{passive:!0})}),setInterval(()=>{Date.now()-this.session.lastActivity>this.config.sessionTimeout&&(this.endSession(),this.session=this.createSession())},6e4)}trackPageView(){this.session.pageViews++,this.trackEvent({name:"page_view",category:"user",action:"view",label:window.location.pathname,properties:{title:document.title,url:window.location.href,referrer:document.referrer}});let e=window.location.pathname;new MutationObserver(()=>{window.location.pathname!==e&&(e=window.location.pathname,this.trackPageView())}).observe(document.body,{childList:!0,subtree:!0})}trackPerformance(){window.addEventListener("load",()=>{setTimeout(()=>{this.trackPerformanceMetrics()},1e3)})}trackPerformanceMetrics(){var o;const e=performance.getEntriesByType("navigation")[0],r=performance.getEntriesByType("paint"),s={loadTime:e.loadEventEnd-e.loadEventStart,domContentLoaded:e.domContentLoadedEventEnd-e.domContentLoadedEventStart,firstContentfulPaint:((o=r.find(i=>i.name==="first-contentful-paint"))==null?void 0:o.startTime)||0,largestContentfulPaint:0,firstInputDelay:0,cumulativeLayoutShift:0,bundleSize:0,assetCount:0};"PerformanceObserver"in window&&(new PerformanceObserver(c=>{const u=c.getEntries(),h=u[u.length-1];s.largestContentfulPaint=h.startTime}).observe({entryTypes:["largest-contentful-paint"]}),new PerformanceObserver(c=>{for(const u of c.getEntries()){const h=u;s.firstInputDelay=h.processingStart-h.startTime}}).observe({entryTypes:["first-input"]}),new PerformanceObserver(c=>{for(const u of c.getEntries()){const h=u;h.hadRecentInput||(s.cumulativeLayoutShift+=h.value)}}).observe({entryTypes:["layout-shift"]})),performance.getEntriesByType("resource").forEach(i=>{(i.initiatorType==="script"||i.initiatorType==="link")&&(s.bundleSize+=i.transferSize||0,s.assetCount++)}),this.trackEvent({name:"performance",category:"performance",action:"measure",properties:s})}trackUserInteractions(){document.addEventListener("click",r=>{var l;const s=r.target,n=s.tagName.toLowerCase(),o=s.className,i=s.id,a=(l=s.textContent)==null?void 0:l.trim().substring(0,50);this.trackEvent({name:"click",category:"user",action:"click",label:`${n}${i?`#${i}`:""}${o?`.${o.split(" ")[0]}`:""}`,properties:{tagName:n,className:o,id:i,text:a,path:window.location.pathname}})},{passive:!0}),document.addEventListener("submit",r=>{const s=r.target;this.trackEvent({name:"form_submit",category:"user",action:"submit",label:s.action||s.id||"unknown_form",properties:{formId:s.id,formAction:s.action,formMethod:s.method}})});let e=0;document.addEventListener("scroll",()=>{const r=Math.round(window.scrollY/(document.body.scrollHeight-window.innerHeight)*100);r>e&&(e=r,e%25===0&&this.trackEvent({name:"scroll_depth",category:"user",action:"scroll",label:`${e}%`,value:e}))},{passive:!0})}trackErrors(){window.addEventListener("error",e=>{var r;this.trackEvent({name:"javascript_error",category:"error",action:"error",label:e.message,properties:{filename:e.filename,lineno:e.lineno,colno:e.colno,error:(r=e.error)==null?void 0:r.stack}})}),window.addEventListener("unhandledrejection",e=>{var r;this.trackEvent({name:"promise_rejection",category:"error",action:"rejection",label:((r=e.reason)==null?void 0:r.message)||"Unknown promise rejection",properties:{reason:e.reason}})})}trackUTMParameters(){(this.session.utmSource||this.session.utmMedium||this.session.utmCampaign)&&this.trackEvent({name:"utm_tracking",category:"user",action:"campaign",label:`${this.session.utmSource||"direct"}`,properties:{utmSource:this.session.utmSource,utmMedium:this.session.utmMedium,utmCampaign:this.session.utmCampaign}})}trackEvent(e){if(!this.config.enabled)return;const r={...e,timestamp:Date.now()};this.events.push(r),this.session.events.push(r),this.config.debug&&console.log("📊 Analytics Event:",r),this.events.length>=this.config.batchSize&&this.flush()}trackConversion(e,r){this.trackEvent({name:"conversion",category:"business",action:"convert",label:e,value:r,properties:{conversionId:e,sessionId:this.session.sessionId}})}trackGoal(e,r){this.trackEvent({name:"goal_completion",category:"business",action:"complete",label:e,value:r,properties:{goalId:e,sessionId:this.session.sessionId}})}startFlushTimer(){this.flushTimer=setInterval(()=>{this.flush()},this.config.flushInterval)}async flush(){if(this.events.length===0)return;const e=[...this.events];this.events=[];try{if(this.config.endpoint)await fetch(this.config.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session:this.session,events:e})});else{const r=JSON.parse(localStorage.getItem("analytics_events")||"[]");r.push(...e),localStorage.setItem("analytics_events",JSON.stringify(r))}}catch(r){console.error("Failed to send analytics events:",r),this.events.unshift(...e)}}endSession(){this.trackEvent({name:"session_end",category:"user",action:"end",properties:{sessionDuration:Date.now()-this.session.startTime,pageViews:this.session.pageViews,eventCount:this.session.events.length}}),this.flush()}getAnalyticsData(){return{session:this.session,events:this.events,config:this.config}}destroy(){this.flushTimer&&clearInterval(this.flushTimer),this.endSession(),this.isInitialized=!1}}async function Ls(t){const e=t.includes("?")?"&":"?",r=`${t}${e}ts=${Date.now()}`,s={cache:"no-store",headers:{"cache-control":"no-store"}};try{return await(await fetch(r,s)).json()}catch{return await(await fetch(`${r}&retry=1`,s)).json()}}class Gf{async getGoogleAnalytics(){try{return await Ls("/api/analytics/overview")}catch(e){return console.error("Error fetching Google Analytics data:",e),{success:!1,error:"Failed to fetch analytics data"}}}async getRealTimeData(){try{return await Ls("/api/analytics/realtime")}catch(e){return console.error("Error fetching real-time data:",e),{success:!1,error:"Failed to fetch real-time data"}}}async getConversionData(){try{return await Ls("/api/analytics/conversions")}catch(e){return console.error("Error fetching conversion data:",e),{success:!1,error:"Failed to fetch conversion data"}}}}new Vf;const Ds=new Gf;function ce(t){try{const e=typeof t=="string"?t:(t==null?void 0:t.message)||(t==null?void 0:t.error_description)||"";return/Failed to fetch|NetworkError|TypeError|Edge Function/i.test(String(e))}catch{return!1}}function Co(t){try{const e=typeof t=="string"?t:(t==null?void 0:t.message)||(t==null?void 0:t.error_description)||"";return/Auth session missing/i.test(String(e))}catch{return!1}}function x(t,e=null,r){const s=e?typeof e=="string"?e:(e==null?void 0:e.message)||(e==null?void 0:e.error_description)||(e==null?void 0:e.hint)||null:null;return s?ce(e)?console.warn(`[Supabase API Warning] ${r||"unknown endpoint"}: ${s}`):console.error(`[Supabase API Error] ${r||"unknown endpoint"}: ${s}`):console.log(`[Supabase API] ${r||"unknown endpoint"}: ok`),e?{success:!1,error:s||"An error occurred",details:e}:{success:!0,data:t}}async function ua(){var t;try{const{data:e}=await D.auth.getSession();return((t=e.session)==null?void 0:t.access_token)||void 0}catch{return}}async function fe(t,e){try{const r=await ua();console.log("[adminFetch] Token status:",{hasToken:!!r,tokenLength:(r==null?void 0:r.length)||0,tokenPreview:r?`${r.substring(0,20)}...`:"None"});const s=t.startsWith("/")?t:`/${t}`,n=window.location.origin,o=new URL(s,n).toString();console.log("[adminFetch] Request:",{url:o,method:e.method,headers:{...e.headers,Authorization:r?"Bearer present":"Missing"},body:e.body?JSON.parse(e.body):void 0});const i=await fetch(o,{...e,headers:{"Content-Type":"application/json",...e.headers||{},...r?{Authorization:`Bearer ${r}`}:{}}});console.log("[adminFetch] Response:",{status:i.status,statusText:i.statusText,headers:Object.fromEntries(i.headers.entries())});let a="";try{a=await i.text(),console.log("[adminFetch] Response body:",a)}catch(l){console.error("[adminFetch] Error reading response body:",l)}if(!a)return i.ok?{success:!0}:{success:!1,error:`HTTP ${i.status}`};try{return JSON.parse(a)}catch{return i.ok?{success:!0}:{success:!1,error:a}}}catch(r){return x(null,r,t)}}const gt={auth:{login:async(t,e)=>{try{const{data:r,error:s}=await D.auth.signInWithPassword({email:t,password:e});return x({user:r.user,session:r.session},s)}catch(r){return x(null,r)}},logout:async()=>{try{const{error:t}=await D.auth.signOut();return x({message:"Logged out successfully"},t)}catch(t){return x(null,t)}},getCurrentUser:async()=>{try{const{data:{user:t},error:e}=await D.auth.getUser();return e&&(Co(e)||ce(e))?(console.warn("[auth.getCurrentUser] treating missing session/network as unauthenticated"),x(null,null,"auth.getCurrentUser")):x(t,e,"auth.getCurrentUser")}catch(t){return ce(t)?(console.warn("[auth.getCurrentUser] network error, treating as unauthenticated"),x(null,null,"auth.getCurrentUser")):x(null,t)}},signup:async(t,e,r)=>{try{const{data:s,error:n}=await D.auth.signUp({email:t,password:e,options:{data:r}});return x({user:s.user,session:s.session},n)}catch(s){return x(null,s)}},verify:async()=>{try{const{data:t,error:e}=await D.auth.getUser();return e&&(Co(e)||ce(e))?(console.warn("[auth.verify] treating missing session/network as unauthenticated"),x(null,null,"auth.verify")):x(t,e,"auth.verify")}catch(t){return ce(t)?(console.warn("[auth.verify] network error, treating as unauthenticated"),x(null,null,"auth.verify")):x(null,t)}}},users:{getAll:async()=>{try{const{data:t,error:e}=await D.from("users").select("*");return e&&e.code==="PGRST116"?(console.warn("[users.getAll] Table missing, returning empty list"),x([],null,"users.getAll")):e&&ce(e)?(console.warn("[users.getAll] Network error, returning empty list"),x([],null,"users.getAll")):x(t,e,"users.getAll")}catch(t){return x(null,t,"users.getAll")}}},images:{upload:async(t,e,r,s)=>{try{const n=`${Date.now()}-${t.name}`,{data:o,error:i}=await D.storage.from("images").upload(`${e}/${r}/${n}`,t);if(i)throw i;const{data:{publicUrl:a}}=D.storage.from("images").getPublicUrl(`${e}/${r}/${n}`);return x(a)}catch(n){return x(null,n)}},uploadMultiple:async(t,e,r,s)=>{try{const n=t.map(a=>gt.images.upload(a,e,r)),i=(await Promise.all(n)).map(a=>a.data).filter(Boolean);return x(i)}catch(n){return x(null,n)}}},blog:{getAll:async t=>{try{let e=D.from("blog_posts").select("*");if(t!=null&&t.category&&(e=e.eq("category",t.category)),t!=null&&t.status&&(e=e.eq("status",t.status)),t!=null&&t.limit){const n=(((t==null?void 0:t.page)||1)-1)*t.limit;e=e.range(n,n+t.limit-1)}const{data:r,error:s}=await e.order("created_at",{ascending:!1});return s&&s.code==="PGRST116"?(console.warn("[blog.getAll] Table missing, returning empty list"),x([],null,"blog.getAll")):s&&ce(s)?(console.warn("[blog.getAll] Network error, returning empty list"),x([],null,"blog.getAll")):x(r,s,"blog.getAll")}catch(e){return x(null,e,"blog.getAll")}},getBySlug:async t=>{try{const{data:e,error:r}=await D.from("blog_posts").select("*").eq("slug",t).eq("status","published").maybeSingle();return x(e,r)}catch(e){return x(null,e)}},listAll:async()=>{try{const{data:t,error:e}=await D.from("blog_posts").select("*");return x(t,e)}catch(t){return x(null,t)}},create:async t=>{try{return await fe("/api/admin/blog",{method:"POST",body:JSON.stringify(t)})}catch(e){return x(null,e,"blog.create")}},update:async(t,e)=>{try{return await fe(`/api/admin/blog/${t}`,{method:"PUT",body:JSON.stringify(e)})}catch(r){return x(null,r,"blog.update")}},delete:async t=>{try{return await fe(`/api/admin/blog/${t}`,{method:"DELETE"})}catch(e){return x(null,e,"blog.delete")}},getComments:async t=>{try{const{data:e,error:r}=await D.from("blog_comments").select("*").eq("post_id",t);return r&&r.code==="PGRST116"?(console.warn("[blog.getComments] Table missing, returning empty list"),x([],null,"blog.getComments")):x(e,r,"blog.getComments")}catch(e){return x(null,e,"blog.getComments")}},createComment:async t=>{try{const{data:e,error:r}=await D.from("blog_comments").insert([t]).select().maybeSingle();return r&&r.code==="PGRST116"?x(null,{message:"Comments feature not configured: table blog_comments missing"},"blog.createComment"):x(e,r,"blog.createComment")}catch(e){return x(null,e,"blog.createComment")}},approveComment:async t=>{try{const{data:e,error:r}=await D.from("blog_comments").update({status:"approved"}).eq("id",t).select().maybeSingle();return r&&r.code==="PGRST116"?x(null,{message:"Comments feature not configured: table blog_comments missing"},"blog.approveComment"):x(e,r,"blog.approveComment")}catch(e){return x(null,e,"blog.approveComment")}},deleteComment:async t=>{try{const{error:e}=await D.from("blog_comments").delete().eq("id",t);return e&&e.code==="PGRST116"?x(null,{message:"Comments feature not configured: table blog_comments missing"},"blog.deleteComment"):x({},e,"blog.deleteComment")}catch(e){return x(null,e,"blog.deleteComment")}},getCategories:async()=>{try{const{data:t,error:e}=await D.from("blog_categories").select("*");return e&&e.code==="PGRST116"?(console.warn("[blog.getCategories] Table missing, returning empty list"),x([],null,"blog.getCategories")):x(t,e,"blog.getCategories")}catch(t){return x(null,t,"blog.getCategories")}},createCategory:async t=>{try{const{data:e,error:r}=await D.from("blog_categories").insert([t]).select().maybeSingle();return x(e,r)}catch(e){return x(null,e)}},updateCategory:async(t,e)=>{try{const{data:r,error:s}=await D.from("blog_categories").update(e).eq("id",t).select().maybeSingle();return x(r,s)}catch(r){return x(null,r)}},deleteCategory:async t=>{try{const{error:e}=await D.from("blog_categories").delete().eq("id",t);return x({},e)}catch(e){return x(null,e)}}},products:{getAll:async t=>{try{console.log("[Products API] getAll called with params:",t);let e=D.from("products").select("*");if((t==null?void 0:t.active)!==void 0&&(e=e.eq("is_active",t.active)),t!=null&&t.category&&(e=e.eq("category",t.category)),t!=null&&t.search&&(e=e.or(`name.ilike.%${t.search}%,description.ilike.%${t.search}%`)),t!=null&&t.limit){const n=(((t==null?void 0:t.page)||1)-1)*t.limit;e=e.range(n,n+t.limit-1)}const{data:r,error:s}=await e.order("created_at",{ascending:!1});return s&&s.code==="PGRST116"?(console.warn("[products.getAll] Table missing, returning empty list"),x([],null,"products.getAll")):s&&ce(s)?(console.warn("[products.getAll] Network error, returning empty list"),x([],null,"products.getAll")):x(r,s,"products.getAll")}catch(e){return console.error("[Products API] Error in getAll:",e),x(null,e,"products.getAll")}},getFeatured:async t=>{try{let e=D.from("products").select("*").eq("is_active",!0).order("created_at",{ascending:!1});t&&(e=e.limit(t));const{data:r,error:s}=await e;return s&&ce(s)?(console.warn("[products.getFeatured] Network error, using empty list"),x([],null,"products.getFeatured")):x(r,s,"products.getFeatured")}catch(e){return ce(e)?(console.warn("[products.getFeatured] Network exception, using empty list"),x([],null,"products.getFeatured")):x(null,e,"products.getFeatured")}},getById:async t=>{try{const{data:e,error:r}=await D.from("products").select("*").eq("id",t).maybeSingle();return x(e,r)}catch(e){return x(null,e)}},create:async t=>{try{return await fe("/api/admin/products",{method:"POST",body:JSON.stringify(t)})}catch(e){return x(null,e,"products.create")}},update:async(t,e)=>{try{return await fe(`/api/admin/products/${t}`,{method:"PUT",body:JSON.stringify(e)})}catch(r){return x(null,r,"products.update")}},delete:async t=>{try{return await fe(`/api/admin/products/${t}`,{method:"DELETE"})}catch(e){return x(null,e,"products.delete")}},subscribeToStock:async(t,e)=>{try{const{data:r,error:s}=await D.from("stock_alerts").insert([{product_id:t,email:e}]).select().maybeSingle();return x(r,s)}catch(r){return x(null,r)}}},testimonials:{getAll:async t=>{try{let e=D.from("testimonials").select("*");if((t==null?void 0:t.activeOnly)!==void 0&&(e=e.eq("is_active",t.activeOnly)),t!=null&&t.limit){const n=(((t==null?void 0:t.page)||1)-1)*t.limit;e=e.range(n,n+t.limit-1)}const{data:r,error:s}=await e.order("created_at",{ascending:!1});return s&&s.code==="PGRST116"?(console.warn("[testimonials.getAll] Table missing, returning empty list"),x([],null,"testimonials.getAll")):s&&ce(s)?(console.warn("[testimonials.getAll] Network error, returning empty list"),x([],null,"testimonials.getAll")):x(r,s,"testimonials.getAll")}catch(e){return x(null,e,"testimonials.getAll")}},getFeatured:async t=>{try{let e=D.from("testimonials").select("*").eq("is_active",!0).eq("is_featured",!0).order("created_at",{ascending:!1});t&&(e=e.limit(t));const{data:r,error:s}=await e;return s&&ce(s)?(console.warn("[testimonials.getFeatured] Network error, using empty list"),x([],null,"testimonials.getFeatured")):x(r,s,"testimonials.getFeatured")}catch(e){return ce(e)?(console.warn("[testimonials.getFeatured] Network exception, using empty list"),x([],null,"testimonials.getFeatured")):x(null,e,"testimonials.getFeatured")}},getById:async t=>{try{const{data:e,error:r}=await D.from("testimonials").select("*").eq("id",t).maybeSingle();return x(e,r,"testimonials.getById")}catch(e){return x(null,e,"testimonials.getById")}},create:async t=>{try{return await fe("/api/admin/testimonials",{method:"POST",body:JSON.stringify(t)})}catch(e){return x(null,e,"testimonials.create")}},update:async(t,e)=>{try{return await fe(`/api/admin/testimonials/${t}`,{method:"PUT",body:JSON.stringify(e)})}catch(r){return x(null,r,"testimonials.update")}},delete:async t=>{try{return await fe(`/api/admin/testimonials/${t}`,{method:"DELETE"})}catch(e){return x(null,e,"testimonials.delete")}}},services:{getAll:async t=>{try{console.log("[Services API] getAll called with params:",t);let e=D.from("services").select("*");if((t==null?void 0:t.active)!==void 0&&(e=e.eq("is_active",t.active)),t!=null&&t.category&&(e=e.eq("category",t.category)),t!=null&&t.limit){const n=(((t==null?void 0:t.page)||1)-1)*t.limit;e=e.range(n,n+t.limit-1)}const{data:r,error:s}=await e.order("created_at",{ascending:!1});return s&&s.code==="PGRST116"?(console.warn("[services.getAll] Table missing, returning empty list"),x([],null,"services.getAll")):s&&ce(s)?(console.warn("[services.getAll] Network error, returning empty list"),x([],null,"services.getAll")):x(r,s,"services.getAll")}catch(e){return console.error("[Services API] Error in getAll:",e),x(null,e,"services.getAll")}},getFeatured:async t=>{try{let e=D.from("services").select("*").eq("is_active",!0).order("created_at",{ascending:!1});t&&(e=e.limit(t));const{data:r,error:s}=await e;return s&&ce(s)?(console.warn("[services.getFeatured] Network error, using empty list"),x([],null,"services.getFeatured")):x(r,s,"services.getFeatured")}catch(e){return ce(e)?(console.warn("[services.getFeatured] Network exception, using empty list"),x([],null,"services.getFeatured")):x(null,e,"services.getFeatured")}},getById:async t=>{try{const{data:e,error:r}=await D.from("services").select("*").eq("id",t).maybeSingle();return x(e,r,"services.getById")}catch(e){return x(null,e,"services.getById")}},create:async t=>{try{return await fe("/api/admin/services",{method:"POST",body:JSON.stringify(t)})}catch(e){return x(null,e,"services.create")}},update:async(t,e)=>{try{console.log("[API] Updating service:",{id:t,data:e});const r=await ua();if(!r)return console.error("[API] No auth token available for service update"),x(null,"No authentication token available","services.update");const s=`${window.location.origin}/api/admin/services/${t}`;console.log("[API] Making request to:",s,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:r?"Present":"Missing"},data:e});const n=await fe(`/api/admin/services/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(console.log("[API] Update response:",n),!n.success&&n.error==="HTTP 404"){const o=await D.from("services").select("id").eq("id",t).maybeSingle();o.error?console.error("[API] Error checking service existence:",o.error):o.data?console.error("[API] Service exists but endpoint returned 404:",{id:t,serviceData:o.data}):console.error("[API] Service does not exist in database:",t)}return n}catch(r){return console.error("[API] Update error:",r),x(null,r,"services.update")}},delete:async t=>{try{return await fe(`/api/admin/services/${t}`,{method:"DELETE"})}catch(e){return x(null,e,"services.delete")}}},company:{getStats:async()=>{try{const[{count:t},{count:e},{count:r},{count:s}]=await Promise.all([D.from("products").select("*",{count:"exact",head:!0}),D.from("services").select("*",{count:"exact",head:!0}),D.from("quotes").select("*",{count:"exact",head:!0}),D.from("testimonials").select("*",{count:"exact",head:!0})]),n={totalProducts:t||0,totalServices:e||0,totalQuotes:r||0,totalTestimonials:s||0,yearsInBusiness:new Date().getFullYear()-2010,satisfactionRate:98,projectsCompleted:500};return x(n,null,"company.getStats")}catch(t){return console.error("[Company API] Error in getStats:",t),x(null,t,"company.getStats")}}},contact:{create:async t=>{try{console.log("[contact.create] submitting:",t);const e=await fetch("/api/contact/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await e.text();let s=null;try{s=r?JSON.parse(r):null}catch{}if(console.log("[contact.create] response:",{status:e.status,ok:e.ok,body:r}),!e.ok||!(s!=null&&s.success)){try{await fetch("/api/contact/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,email:t.email,phone:t==null?void 0:t.phone,subject:t==null?void 0:t.subject,message:t==null?void 0:t.message})})}catch{}throw new Error(s&&(s.error||s.message)||`HTTP ${e.status}`)}return x(s.data||null,null,"contact.create")}catch(e){return x(null,e,"contact.create")}},getAll:async t=>{try{let e=D.from("contact_messages").select("*");if(t!=null&&t.status&&(e=e.eq("status",t.status)),t!=null&&t.limit){const n=(((t==null?void 0:t.page)||1)-1)*t.limit;e=e.range(n,n+t.limit-1)}const{data:r,error:s}=await e.order("created_at",{ascending:!1});return s&&s.code==="PGRST116"?(console.warn("[contact.getAll] Table missing, returning empty list"),x([],null,"contact.getAll")):s&&ce(s)?(console.warn("[contact.getAll] Network error, returning empty list"),x([],null,"contact.getAll")):x(r,s,"contact.getAll")}catch(e){return x(null,e,"contact.getAll")}},update:async(t,e)=>{try{return await fe(`/api/admin/contacts/${t}`,{method:"PUT",body:JSON.stringify(e)})}catch(r){return x(null,r,"contact.update")}},delete:async t=>{try{return await fe(`/api/admin/contacts/${t}`,{method:"DELETE"})}catch(e){return x(null,e,"contact.delete")}}},analytics:{getGoogleAnalytics:async()=>{try{const t=await Ds.getGoogleAnalytics();return t.success?t:(console.warn("[Analytics] GA4 data fetch failed, using empty data"),x({pageViews:0,sessions:0,users:0,newUsers:0,bounceRate:0,avgSessionDuration:0},null,"analytics.getGoogleAnalytics"))}catch(t){return console.warn("[Analytics] GA4 error:",t),x({pageViews:0,sessions:0,users:0,newUsers:0,bounceRate:0,avgSessionDuration:0},null,"analytics.getGoogleAnalytics")}},getRealTimeData:async()=>{try{const t=await Ds.getRealTimeData();return t.success?t:(console.warn("[Analytics] Realtime data fetch failed, using empty data"),x({activeUsers:0,pageViews:0,topPages:[]},null,"analytics.getRealTimeData"))}catch(t){return console.warn("[Analytics] Realtime error:",t),x({activeUsers:0,pageViews:0,topPages:[]},null,"analytics.getRealTimeData")}},getConversionData:async()=>{try{const t=await Ds.getConversionData();return t.success?t:(console.warn("[Analytics] Conversion data fetch failed, using empty data"),x({conversions:0,conversionRate:0,goals:[]},null,"analytics.getConversionData"))}catch(t){return console.warn("[Analytics] Conversion error:",t),x({conversions:0,conversionRate:0,goals:[]},null,"analytics.getConversionData")}},refresh:async()=>{try{const[t,e,r]=await Promise.all([gt.analytics.getGoogleAnalytics(),gt.analytics.getRealTimeData(),gt.analytics.getConversionData()]);return x({analytics:t.data,realTime:e.data,conversions:r.data})}catch(t){return console.warn("[Analytics] Refresh error:",t),x({analytics:{pageViews:0,sessions:0,users:0,newUsers:0,bounceRate:0,avgSessionDuration:0},realTime:{activeUsers:0,pageViews:0,topPages:[]},conversions:{conversions:0,conversionRate:0,goals:[]}},null,"analytics.refresh")}}},quotes:{getAll:async t=>{try{let e=D.from("quotes").select("*");if(t!=null&&t.status&&(e=e.eq("status",t.status)),t!=null&&t.limit){const n=(((t==null?void 0:t.page)||1)-1)*t.limit;e=e.range(n,n+t.limit-1)}const{data:r,error:s}=await e.order("created_at",{ascending:!1});return s&&s.code==="PGRST116"?(console.warn("[quotes.getAll] Table missing, returning empty list"),x([],null,"quotes.getAll")):s&&ce(s)?(console.warn("[quotes.getAll] Network error, returning empty list"),x([],null,"quotes.getAll")):x(r,s,"quotes.getAll")}catch(e){return x(null,e,"quotes.getAll")}},getById:async t=>{try{const{data:e,error:r}=await D.from("quotes").select("*").eq("id",t).maybeSingle();return x(e,r,"quotes.getById")}catch(e){return x(null,e,"quotes.getById")}},create:async t=>{try{const{data:e,error:r}=await D.from("quotes").insert([t]).select().maybeSingle();try{fetch("/api/quotes/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).catch(()=>{})}catch{}return x(e,r,"quotes.create")}catch(e){return x(null,e,"quotes.create")}},update:async(t,e)=>{try{return await fe(`/api/admin/quotes/${t}`,{method:"PUT",body:JSON.stringify(e)})}catch(r){return x(null,r,"quotes.update")}},delete:async t=>{try{return await fe(`/api/admin/quotes/${t}`,{method:"DELETE"})}catch(e){return x(null,e,"quotes.delete")}}}},da=w.createContext(void 0),Kf=()=>{const t=w.useContext(da);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Jf=({children:t})=>{const[e,r]=w.useState(null),[s,n]=w.useState(null),[o,i]=w.useState(!0),[a,l]=w.useState(null),c=async()=>{var y,v,E,T;try{if(window.location.pathname.match(/^\/(|products|services|contact|about)$/))return r(null),n(null),!0;const j=await gt.auth.getCurrentUser();if(j.success&&j.data){const C=j.data;return r({id:C.id.toString(),email:C.email||"",first_name:((y=C.user_metadata)==null?void 0:y.first_name)||((v=C.email)==null?void 0:v.split("@")[0])||"",last_name:((E=C.user_metadata)==null?void 0:E.last_name)||"",role:((T=C.user_metadata)==null?void 0:T.role)||"admin",is_active:!0}),n({id:C.id.toString(),expires_at:new Date(Date.now()+1440*60*1e3).toISOString()}),!0}else return r(null),n(null),!1}catch(P){return console.error("Session verification error:",P),r(null),n(null),!1}};w.useEffect(()=>{(async()=>{i(!0),await c(),i(!1)})()},[]);const _={user:e,session:s,login:async(y,v)=>{var E,T,P,j;i(!0),l(null);try{const C=await gt.auth.login(y,v);if(C.success&&C.data){const{user:N,session:G}=C.data,O=N,V=G;return r({id:O.id.toString(),email:O.email||"",first_name:((E=O.user_metadata)==null?void 0:E.first_name)||((T=O.email)==null?void 0:T.split("@")[0])||"",last_name:((P=O.user_metadata)==null?void 0:P.last_name)||"",role:((j=O.user_metadata)==null?void 0:j.role)||"admin",is_active:!0}),n({id:V.access_token,expires_at:typeof V.expires_at=="number"?new Date(V.expires_at*1e3).toISOString():new Date(Date.now()+1440*60*1e3).toISOString()}),i(!1),{success:!0}}else{const N=C.error||"Login failed";return l(N),i(!1),{success:!1,error:N}}}catch(C){console.error("Login error:",C);const N="Network error. Please try again.";return l(N),i(!1),{success:!1,error:N}}},logout:async()=>{try{await gt.auth.logout()}catch(y){console.error("Logout error:",y)}finally{r(null),n(null)}},logoutAll:async()=>{try{await gt.auth.logout()}catch(y){console.error("Logout all error:",y)}finally{r(null),n(null)}},verifySession:c,changePassword:async(y,v)=>{if(!e)return{success:!1,error:"Not authenticated"};try{const{error:E}=await D.auth.updateUser({password:v});return E?{success:!1,error:E.message}:{success:!0}}catch(E){return console.error("Change password error:",E),{success:!1,error:"Network error. Please try again."}}},requestPasswordReset:async y=>{try{const{error:v}=await D.auth.resetPasswordForEmail(y,{redirectTo:`${window.location.origin}/reset-password`});return v?{success:!1,error:v.message}:{success:!0}}catch(v){return console.error("Password reset request error:",v),{success:!1,error:"Network error. Please try again."}}},resetPassword:async(y,v)=>{try{const{error:E}=await D.auth.updateUser({password:v});return E?{success:!1,error:E.message}:{success:!0}}catch(E){return console.error("Password reset error:",E),{success:!1,error:"Network error. Please try again."}}},getActiveSessions:async()=>{if(!e)return[];try{return s?[{id:s.id,expires_at:s.expires_at,user_id:e.id,is_current:!0}]:[]}catch(y){return console.error("Get sessions error:",y),[]}},isLoading:o,isAuthenticated:!!e,error:a,clearError:()=>l(null)};return S.jsx(da.Provider,{value:_,children:t})},Qf=({children:t})=>{const{isAuthenticated:e,isLoading:r}=Kf(),s=Vo();return r?S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),S.jsx("p",{className:"text-slate-600",children:"Checking authentication..."})]})}):e?S.jsx(S.Fragment,{children:t}):S.jsx(La,{to:"/login",state:{from:s},replace:!0})},Ns={durations:{fast:500,normal:1e3}},Yf=()=>{const t=Vo(),[e,r]=w.useState({isEntering:!1,isExiting:!1,transitioning:!1,progress:0});w.useEffect(()=>{r(i=>({...i,isExiting:!0,transitioning:!0,progress:0}));const o=setTimeout(()=>{r(a=>({...a,isExiting:!1,isEntering:!0,progress:50}));const i=setTimeout(()=>{r(a=>({...a,isEntering:!1,transitioning:!1,progress:100}))},Ns.durations.normal);return()=>clearTimeout(i)},Ns.durations.fast);return()=>clearTimeout(o)},[t.pathname]);const s=w.useCallback(()=>e.isExiting?"animate-fade-out-down":e.isEntering?"animate-fade-in-up":"",[e.isExiting,e.isEntering]),n=w.useCallback(async(o="animate-fade-out-down",i="animate-fade-in-up",a=Ns.durations.normal)=>(r(l=>({...l,isExiting:!0,transitioning:!0})),new Promise(l=>{setTimeout(()=>{r(c=>({...c,isExiting:!1,isEntering:!0})),setTimeout(()=>{r(c=>({...c,isEntering:!1,transitioning:!1})),l()},a)},a/2)})),[]);return{...e,transitioning:e.transitioning,getTransitionClasses:s,startCustomTransition:n}},Xf=({children:t})=>{const e=Yf();return S.jsx("div",{className:e?"animate-fade-in":"",children:t})},Zf=w.lazy(()=>q(()=>import("./Index-utNK3TKV.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]))),eg=w.lazy(()=>q(()=>import("./NotFound-CSznFjwU.js"),__vite__mapDeps([25,1,2,4,5,6,7,8,9,26]))),tg=w.lazy(()=>q(()=>import("./BlogPage-DkGxKT2o.js"),__vite__mapDeps([27,1,2,3,4,5,6,7,8,28,29,30,31,32,15,13,9]))),rg=w.lazy(()=>q(()=>import("./BlogPostPage-By2swSQk.js"),__vite__mapDeps([33,1,2,34,35,30,36,32,37]))),sg=w.lazy(()=>q(()=>import("./ServicesPage-Dr42Z__W.js"),__vite__mapDeps([38,1,2,3,39,4,5,6,7,8,16,15,40,20,18,12,19,9]))),ng=w.lazy(()=>q(()=>import("./ServiceDetailPage-BcPRpEIH.js"),__vite__mapDeps([41,1,2,4,5,6,7,26,12,40,16,19,9,15,23,22]))),og=w.lazy(()=>q(()=>import("./ProductsPage-DpCtl2qx.js"),__vite__mapDeps([42,1,2,43,35,44,7,10,45,39,3,4,5,6,8,28,46,14,15,47,29,18,32]))),ig=w.lazy(()=>q(()=>import("./AboutPage-BiPj6YEd.js"),__vite__mapDeps([48,1,2,3,4,5,6,7,8,49,11,12,13,17,15,19,30]))),ag=w.lazy(()=>q(()=>import("./ContactPage-C7E-f7ua.js"),__vite__mapDeps([50,1,2,3,4,5,6,7,8,28,49,15,22,17,51,11,37,23,24,31,18]))),lg=w.lazy(()=>q(()=>import("./AdminPage-DOQfvAwe.js"),__vite__mapDeps([52,1,2,4,5,6,7,8,28,16,47,51,11,36,45,18,13,29,32,15]))),cg=w.lazy(()=>q(()=>import("./LoginPage-BHSgJMgX.js"),__vite__mapDeps([53,1,2,5,8,28,19,22,32,15]))),ug=w.lazy(()=>q(()=>import("./DatabaseDemo-D9GMXmNq.js"),__vite__mapDeps([54,1,2,34,35,44,7,10,55,43,45]))),dg=w.lazy(()=>q(()=>import("./ConnectionTestPage-C0Ssc7H6.js"),__vite__mapDeps([56,1,2,4,5,6,7,8,17,11,12]))),hg=w.lazy(()=>q(()=>import("./AnimationDemo-B22_Rtcb.js"),__vite__mapDeps([57,1,2,58,44,7,10,35,26,15,29,21,6,55,34,46]))),fg=w.lazy(()=>q(()=>import("./TypographyDemoPage-Db86yHuC.js"),__vite__mapDeps([59,1,2,58,44,7,10,35,26,15,29,21,6,55,34,46]))),gg=w.lazy(()=>q(()=>import("./CityServicesPage-B9XHuPOx.js"),__vite__mapDeps([60,1,2,3,4,5,6,7,8,15]))),ge=({children:t})=>S.jsx(Xf,{children:t}),pg=Da([{path:"/",element:S.jsx(ge,{children:S.jsx(Zf,{})})},{path:"/services",element:S.jsx(ge,{children:S.jsx(sg,{})})},{path:"/services/city/:city",element:S.jsx(ge,{children:S.jsx(gg,{})})},{path:"/services/:serviceId",element:S.jsx(ge,{children:S.jsx(ng,{})})},{path:"/products",element:S.jsx(ge,{children:S.jsx(og,{})})},{path:"/about",element:S.jsx(ge,{children:S.jsx(ig,{})})},{path:"/contact",element:S.jsx(ge,{children:S.jsx(ag,{})})},{path:"/blog",element:S.jsx(ge,{children:S.jsx(tg,{})})},{path:"/blog/:slug",element:S.jsx(ge,{children:S.jsx(rg,{})})},{path:"/login",element:S.jsx(ge,{children:S.jsx(cg,{})})},{path:"/database-demo",element:S.jsx(ge,{children:S.jsx(ug,{})})},{path:"/connection-test",element:S.jsx(ge,{children:S.jsx(dg,{})})},{path:"/animation-demo",element:S.jsx(ge,{children:S.jsx(hg,{})})},{path:"/typography-demo",element:S.jsx(ge,{children:S.jsx(fg,{})})},{path:"/admin",element:S.jsx(ge,{children:S.jsx(Qf,{children:S.jsx(lg,{})})})},{path:"*",element:S.jsx(ge,{children:S.jsx(eg,{})})}]),mg=async()=>{if("serviceWorker"in navigator)try{const t=await navigator.serviceWorker.register("/sw.js");return t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&yg()})}),console.log("Service Worker registered successfully"),t}catch(t){console.error("Service Worker registration failed:",t)}},yg=()=>{confirm("A new version is available. Would you like to update?")&&window.location.reload()},vg=()=>{window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),wg()}),window.addEventListener("appinstalled",()=>{console.log("PWA was installed"),bg()})},wg=()=>{const t=document.getElementById("pwa-install-button");t&&(t.style.display="block")},bg=()=>{const t=document.getElementById("pwa-install-button");t&&(t.style.display="none")},_g=()=>{const t=()=>{const e=navigator.onLine;document.body.classList.toggle("offline",!e),window.dispatchEvent(new CustomEvent("networkstatus",{detail:{isOnline:e}}))};window.addEventListener("online",t),window.addEventListener("offline",t),t()},xg=()=>{mg(),vg(),_g()};w.lazy(()=>q(()=>import("./Index-utNK3TKV.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24])));w.lazy(()=>q(()=>import("./NotFound-CSznFjwU.js"),__vite__mapDeps([25,1,2,4,5,6,7,8,9,26])));w.lazy(()=>q(()=>import("./BlogPage-DkGxKT2o.js"),__vite__mapDeps([27,1,2,3,4,5,6,7,8,28,29,30,31,32,15,13,9])));w.lazy(()=>q(()=>import("./BlogPostPage-By2swSQk.js"),__vite__mapDeps([33,1,2,34,35,30,36,32,37])));w.lazy(()=>q(()=>import("./ServicesPage-Dr42Z__W.js"),__vite__mapDeps([38,1,2,3,39,4,5,6,7,8,16,15,40,20,18,12,19,9])));w.lazy(()=>q(()=>import("./ServiceDetailPage-BcPRpEIH.js"),__vite__mapDeps([41,1,2,4,5,6,7,26,12,40,16,19,9,15,23,22])));w.lazy(()=>q(()=>import("./ProductsPage-DpCtl2qx.js"),__vite__mapDeps([42,1,2,43,35,44,7,10,45,39,3,4,5,6,8,28,46,14,15,47,29,18,32])));w.lazy(()=>q(()=>import("./AboutPage-BiPj6YEd.js"),__vite__mapDeps([48,1,2,3,4,5,6,7,8,49,11,12,13,17,15,19,30])));w.lazy(()=>q(()=>import("./ContactPage-C7E-f7ua.js"),__vite__mapDeps([50,1,2,3,4,5,6,7,8,28,49,15,22,17,51,11,37,23,24,31,18])));w.lazy(()=>q(()=>import("./AdminPage-DOQfvAwe.js"),__vite__mapDeps([52,1,2,4,5,6,7,8,28,16,47,51,11,36,45,18,13,29,32,15])));w.lazy(()=>q(()=>import("./LoginPage-BHSgJMgX.js"),__vite__mapDeps([53,1,2,5,8,28,19,22,32,15])));w.lazy(()=>q(()=>import("./DatabaseDemo-D9GMXmNq.js"),__vite__mapDeps([54,1,2,34,35,44,7,10,55,43,45])));w.lazy(()=>q(()=>import("./ConnectionTestPage-C0Ssc7H6.js"),__vite__mapDeps([56,1,2,4,5,6,7,8,17,11,12])));w.lazy(()=>q(()=>import("./AnimationDemo-B22_Rtcb.js"),__vite__mapDeps([57,1,2,58,44,7,10,35,26,15,29,21,6,55,34,46])));w.lazy(()=>q(()=>import("./TypographyDemoPage-Db86yHuC.js"),__vite__mapDeps([59,1,2,58,44,7,10,35,26,15,29,21,6,55,34,46])));const Sg=new Md,kg=()=>(w.useEffect(()=>{xg()},[]),S.jsx(qd,{children:S.jsx(Fd,{client:Sg,children:S.jsxs(gd,{children:[S.jsx(Ml,{}),S.jsx(mc,{}),S.jsx(kc,{}),S.jsx(Jf,{children:S.jsx(w.Suspense,{fallback:S.jsx(Bd,{}),children:S.jsx(Na,{router:pg,future:{v7_startTransition:!0}})})})]})})}));function Eg(){return S.jsx(kg,{})}const Tg=Fa.createRoot(document.getElementById("root"));Tg.render(S.jsx(A.StrictMode,{children:S.jsx(Eg,{})}));export{Vu as A,el as C,qd as E,Hu as R,gd as T,Qo as X,q as _,gt as a,Je as b,Ir as c,Ja as d,Kf as e,Za as f,Mu as g,Rg as h,Og as i,xi as j,Gu as k,Ku as l,$g as m,Lg as n,pd as o,li as p,Ko as q,D as s,Ka as u};

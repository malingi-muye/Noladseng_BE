import{j as e}from"./ui-Dp5FSweD.js";import{a as x}from"./vendor-BxUyh3kO.js";import{C as c,a as i,b as l,c as h,d as n,T as Q}from"./textarea-bTopS5-c.js";import{B as q}from"./button-BRAHZdsD.js";import{L as a,I as p,S as D,a as _,b as F,c as P,d as r}from"./select-DkMj81_h.js";import{b as M,d as z,u as H,a as g}from"./index-TKFawkw-.js";import{T as O,a as Z,b as N,c as S}from"./tabs-BOXn3L1w.js";import{I as G}from"./ImageUpload-XpaXJL3P.js";import"./chevron-down-BmJri7la.js";import"./check-CN5YsLJW.js";import"./upload-DGJDyHk2.js";const J=z("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function j({className:v,variant:C,...y}){return e.jsx("div",{className:M(J({variant:C}),v),...y})}const ne=()=>{const[v,C]=x.useState([]),[y,L]=x.useState([]),[T,R]=x.useState([]),[$,I]=x.useState(!1),{toast:o}=H(),[w,f]=x.useState({name:"",description:"",price_range:"",category:""}),[d,m]=x.useState({name:"",description:"",price:"",category:"",stock_quantity:""}),[k,b]=x.useState({project_name:"",description:"",budget_range:"",timeline:""});x.useEffect(()=>{V()},[]);const V=async()=>{I(!0);try{const[s,t,u]=await Promise.all([g.services.getAll({limit:10}),g.products.getAll({limit:10}),g.quotes.getAll({limit:10})]);C(s.data||[]),L(t.data||[]),R(u.data||[])}catch{o({title:"Error",description:"Failed to load data",variant:"destructive"})}finally{I(!1)}},E=async s=>{s.preventDefault();try{const t=await g.services.create(w);C(u=>[t.data,...u]),f({name:"",description:"",price_range:"",category:""}),o({title:"Success",description:"Service created successfully!"})}catch{o({title:"Error",description:"Failed to create service",variant:"destructive"})}},A=async s=>{s.preventDefault();try{const t={...d,price:d.price?parseFloat(d.price):void 0,stock_quantity:d.stock_quantity?parseInt(d.stock_quantity):0},u=await g.products.create(t);L(W=>[u.data,...W]),m({name:"",description:"",price:"",category:"",stock_quantity:""}),o({title:"Success",description:"Product created successfully!"})}catch{o({title:"Error",description:"Failed to create product",variant:"destructive"})}},U=async s=>{s.preventDefault();try{const t=await g.quotes.create(k);R(u=>[t.data,...u]),b({project_name:"",description:"",budget_range:"",timeline:""}),o({title:"Success",description:"Quote request created successfully!"})}catch{o({title:"Error",description:"Failed to create quote request",variant:"destructive"})}},B=s=>{o({title:"Success",description:`${s.length} image(s) uploaded successfully!`})};return e.jsxs("div",{className:"container mx-auto p-6 space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Database Demo"}),e.jsx("p",{className:"text-gray-600",children:"Test the SQLite database functionality"})]}),e.jsxs(O,{defaultValue:"services",className:"w-full",children:[e.jsxs(Z,{className:"grid w-full grid-cols-5",children:[e.jsx(N,{value:"services",children:"Services"}),e.jsx(N,{value:"products",children:"Products"}),e.jsx(N,{value:"quotes",children:"Quotes"}),e.jsx(N,{value:"images",children:"Images"}),e.jsx(N,{value:"overview",children:"Overview"})]}),e.jsx(S,{value:"services",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(c,{children:[e.jsxs(i,{children:[e.jsx(l,{children:"Create Service"}),e.jsx(h,{children:"Add a new service to the database"})]}),e.jsx(n,{children:e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"service-name",children:"Service Name"}),e.jsx(p,{id:"service-name",value:w.name,onChange:s=>f(t=>({...t,name:s.target.value})),placeholder:"Web Development",required:!0})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"service-desc",children:"Description"}),e.jsx(Q,{id:"service-desc",value:w.description,onChange:s=>f(t=>({...t,description:s.target.value})),placeholder:"Describe the service..."})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"service-price",children:"Price Range"}),e.jsx(p,{id:"service-price",value:w.price_range,onChange:s=>f(t=>({...t,price_range:s.target.value})),placeholder:"$1,000 - $10,000"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"service-category",children:"Category"}),e.jsxs(D,{onValueChange:s=>f(t=>({...t,category:s})),children:[e.jsx(_,{children:e.jsx(F,{placeholder:"Select category"})}),e.jsxs(P,{children:[e.jsx(r,{value:"development",children:"Development"}),e.jsx(r,{value:"design",children:"Design"}),e.jsx(r,{value:"consulting",children:"Consulting"}),e.jsx(r,{value:"marketing",children:"Marketing"})]})]})]}),e.jsx(q,{type:"submit",className:"w-full",children:"Create Service"})]})})]}),e.jsxs(c,{children:[e.jsxs(i,{children:[e.jsx(l,{children:"Services List"}),e.jsx(h,{children:"Current services in the database"})]}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:$?e.jsx("p",{className:"text-center text-gray-500",children:"Loading..."}):v.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"No services yet"}):v.map(s=>e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsx("h4",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.description}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx(j,{variant:"secondary",children:s.category}),e.jsx("span",{className:"text-sm text-green-600",children:s.price_range})]})]},s.id))})})]})]})}),e.jsx(S,{value:"products",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(c,{children:[e.jsxs(i,{children:[e.jsx(l,{children:"Create Product"}),e.jsx(h,{children:"Add a new product to the database"})]}),e.jsx(n,{children:e.jsxs("form",{onSubmit:A,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"product-name",children:"Product Name"}),e.jsx(p,{id:"product-name",value:d.name,onChange:s=>m(t=>({...t,name:s.target.value})),placeholder:"Website Template",required:!0})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"product-desc",children:"Description"}),e.jsx(Q,{id:"product-desc",value:d.description,onChange:s=>m(t=>({...t,description:s.target.value})),placeholder:"Describe the product..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"product-price",children:"Price"}),e.jsx(p,{id:"product-price",type:"number",step:"0.01",value:d.price,onChange:s=>m(t=>({...t,price:s.target.value})),placeholder:"99.99"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"product-stock",children:"Stock"}),e.jsx(p,{id:"product-stock",type:"number",value:d.stock_quantity,onChange:s=>m(t=>({...t,stock_quantity:s.target.value})),placeholder:"100"})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"product-category",children:"Category"}),e.jsxs(D,{onValueChange:s=>m(t=>({...t,category:s})),children:[e.jsx(_,{children:e.jsx(F,{placeholder:"Select category"})}),e.jsxs(P,{children:[e.jsx(r,{value:"templates",children:"Templates"}),e.jsx(r,{value:"plugins",children:"Plugins"}),e.jsx(r,{value:"tools",children:"Tools"}),e.jsx(r,{value:"assets",children:"Assets"})]})]})]}),e.jsx(q,{type:"submit",className:"w-full",children:"Create Product"})]})})]}),e.jsxs(c,{children:[e.jsxs(i,{children:[e.jsx(l,{children:"Products List"}),e.jsx(h,{children:"Current products in the database"})]}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:$?e.jsx("p",{className:"text-center text-gray-500",children:"Loading..."}):y.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"No products yet"}):y.map(s=>e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsx("h4",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.description}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx(j,{variant:"secondary",children:s.category}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm text-green-600",children:["$",s.price]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Stock: ",s.stock_quantity]})]})]})]},s.id))})})]})]})}),e.jsx(S,{value:"quotes",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(c,{children:[e.jsxs(i,{children:[e.jsx(l,{children:"Create Quote Request"}),e.jsx(h,{children:"Submit a new quote request"})]}),e.jsx(n,{children:e.jsxs("form",{onSubmit:U,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"quote-project",children:"Project Name"}),e.jsx(p,{id:"quote-project",value:k.project_name,onChange:s=>b(t=>({...t,project_name:s.target.value})),placeholder:"My Website Project",required:!0})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"quote-desc",children:"Project Description"}),e.jsx(Q,{id:"quote-desc",value:k.description,onChange:s=>b(t=>({...t,description:s.target.value})),placeholder:"Describe your project requirements..."})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"quote-budget",children:"Budget Range"}),e.jsxs(D,{onValueChange:s=>b(t=>({...t,budget_range:s})),children:[e.jsx(_,{children:e.jsx(F,{placeholder:"Select budget range"})}),e.jsxs(P,{children:[e.jsx(r,{value:"$1,000 - $5,000",children:"$1,000 - $5,000"}),e.jsx(r,{value:"$5,000 - $10,000",children:"$5,000 - $10,000"}),e.jsx(r,{value:"$10,000 - $25,000",children:"$10,000 - $25,000"}),e.jsx(r,{value:"$25,000+",children:"$25,000+"})]})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"quote-timeline",children:"Timeline"}),e.jsxs(D,{onValueChange:s=>b(t=>({...t,timeline:s})),children:[e.jsx(_,{children:e.jsx(F,{placeholder:"Select timeline"})}),e.jsxs(P,{children:[e.jsx(r,{value:"1-2 weeks",children:"1-2 weeks"}),e.jsx(r,{value:"1 month",children:"1 month"}),e.jsx(r,{value:"2-3 months",children:"2-3 months"}),e.jsx(r,{value:"3+ months",children:"3+ months"})]})]})]}),e.jsx(q,{type:"submit",className:"w-full",children:"Submit Quote Request"})]})})]}),e.jsxs(c,{children:[e.jsxs(i,{children:[e.jsx(l,{children:"Quote Requests"}),e.jsx(h,{children:"Recent quote requests"})]}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:$?e.jsx("p",{className:"text-center text-gray-500",children:"Loading..."}):T.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"No quotes yet"}):T.map(s=>e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsx("h4",{className:"font-medium",children:s.project_name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.description}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx(j,{variant:s.status==="pending"?"secondary":s.status==="approved"?"default":"destructive",children:s.status}),e.jsxs("div",{className:"text-right text-sm text-gray-500",children:[e.jsx("p",{children:s.budget_range}),e.jsx("p",{children:s.timeline})]})]})]},s.id))})})]})]})}),e.jsx(S,{value:"images",className:"space-y-6",children:e.jsxs(c,{children:[e.jsxs(i,{children:[e.jsx(l,{children:"Image Upload"}),e.jsx(h,{children:"Test image upload and storage functionality"})]}),e.jsx(n,{children:e.jsx(G,{onUpload:B,multiple:!0,maxFiles:5})})]})}),e.jsxs(S,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(c,{children:[e.jsx(i,{children:e.jsx(l,{children:"Services"})}),e.jsxs(n,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:v.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total services"})]})]}),e.jsxs(c,{children:[e.jsx(i,{children:e.jsx(l,{children:"Products"})}),e.jsxs(n,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:y.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total products"})]})]}),e.jsxs(c,{children:[e.jsx(i,{children:e.jsx(l,{children:"Quotes"})}),e.jsxs(n,{children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600",children:T.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Quote requests"})]})]})]}),e.jsxs(c,{children:[e.jsxs(i,{children:[e.jsx(l,{children:"Database Status"}),e.jsx(h,{children:"SQLite database is ready and operational"})]}),e.jsxs(n,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Database Type:"}),e.jsx(j,{children:"SQLite"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Image Processing:"}),e.jsx(j,{children:"Sharp (WebP optimization)"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Validation:"}),e.jsx(j,{children:"Zod schemas"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"File Uploads:"}),e.jsx(j,{children:"Multer + Sharp"})]})]}),e.jsx(q,{onClick:V,className:"w-full mt-4",children:"Refresh Data"})]})]})]})]})]})};export{ne as default};
